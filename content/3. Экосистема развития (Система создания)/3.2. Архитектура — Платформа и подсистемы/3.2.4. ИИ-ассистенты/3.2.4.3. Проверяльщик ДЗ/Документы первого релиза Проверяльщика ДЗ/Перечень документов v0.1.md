# Перечень документов для первого релиза (v0.1) ДЗ-чекера

Документ составлен на основе [Общего описания Проверяльщика ДЗ](../Общее%20описание%20Проверяльщика%20ДЗ%20(ДЗ-чекер)%203.2.md).

---

## Системы и их расположение

| Система | Роль | Расположение |
|---------|------|--------------|
| **LMS (Aisystant)** | Интерфейс студента, хранилище заданий | Внешняя система (отдельный репозиторий/команда) |
| **ДЗ-чекер** | Движок проверки домашних заданий | `agents-core/homework-checker/` |
| **Репозиторий руководств** | Хранилище нормативных материалов курсов | Отдельный репозиторий (см. ссылку в общем описании) |
| **LLM (Claude API)** | Исполнитель проверки | Внешний сервис (Anthropic) |

---

## Документы для разработки

### 1. ДЗ-чекер (agents-core/homework-checker/)

| № | Документ | Расположение | Описание |
|---|----------|--------------|----------|
| 1.1 | API-спецификация HTTP-endpoint | `agents-core/homework-checker/docs/api-spec.md` | Описание синхронного endpoint для приёма запросов от LMS: метод, URL, формат запроса/ответа, коды ошибок |
| 1.2 | Схема входящего пакета (A2) | `agents-core/homework-checker/schemas/request.json` | JSON-схема пакета на проверку: ответ студента, вопрос, раздел, курс |
| 1.3 | Схема исходящего пакета (A7) | `agents-core/homework-checker/schemas/response.json` | JSON-схема результата проверки: текст комментария, время проверки |
| 1.4 | Системный промпт | `agents-core/homework-checker/data/prompts/system.md` | Роль наставника, принципы проверки, формат обратной связи |
| 1.5 | Шаблон проверки | `agents-core/homework-checker/data/prompts/check-template.md` | Шаблон для подстановки данных: вопрос, ответ, норматив, критерии |
| 1.6 | Конфигурация | `agents-core/homework-checker/config.yaml` | Настройки: URL Claude API, модель, таймауты, лимиты |
| 1.7 | README агента | `agents-core/homework-checker/README.md` | Техническая документация: установка, запуск, переменные окружения |
| 1.8 | Манифест агента | `agents-core/homework-checker/manifest.json` | Метаданные агента: имя, версия, зависимости |

### 2. Репозиторий руководств

| № | Документ | Расположение | Описание |
|---|----------|--------------|----------|
| 2.1 | Спецификация MCP-эндпоинта /check-context | `репозиторий-руководств/docs/api/check-context.md` | Описание API для получения контекста проверки: входные параметры (курс, раздел), формат ответа (норматив, рубрика) |
| 2.2 | Схема контекста проверки (A4) | `репозиторий-руководств/schemas/check-context.json` | JSON-схема ответа: путь к разделу, название, текст норматива, рубрика с критериями, версия |
| 2.3 | Требования к структуре руководств | `репозиторий-руководств/docs/structure-requirements.md` | Правила организации файлов: иерархия папок, именование, форматирование разделов |
| 2.4 | Базовая рубрика проверки | `репозиторий-руководств/data/rubrics/default.yaml` | Универсальные критерии для v0.1: понимание концепции, пример, терминология |

### 3. LMS (Aisystant)

| № | Документ | Расположение | Описание |
|---|----------|--------------|----------|
| 3.1 | Спецификация UI кнопки «Проверить с ИИ» | `документация-lms/features/ai-check-button.md` | Расположение кнопки, условия отображения (тип задания, подписка БР), состояния |
| 3.2 | Спецификация отображения результата | `документация-lms/features/ai-check-result.md` | Формат отображения комментария, стили, поведение при обновлении страницы |
| 3.3 | Требования к проверке подписки БР | `документация-lms/features/br-subscription-check.md` | Логика проверки доступа: какие подписки дают доступ, сообщения для пользователей без доступа |
| 3.4 | Интеграция с API ДЗ-чекера | `документация-lms/integrations/homework-checker.md` | Описание вызова endpoint: формирование запроса, обработка ответа, обработка ошибок |

### 4. Инфраструктура и интеграции

| № | Документ | Расположение | Описание |
|---|----------|--------------|----------|
| 4.1 | Настройка Claude API | `agents-core/homework-checker/docs/claude-api-setup.md` | Получение API-ключа, конфигурация, лимиты, обработка ошибок API |
| 4.2 | Диаграмма последовательности v0.1 | `agents-core/homework-checker/docs/sequence-diagram.md` | Визуализация процесса проверки: все шаги от нажатия кнопки до отображения результата |

---

## Артефакты данных (примеры)

| № | Артефакт | Расположение | Описание |
|---|----------|--------------|----------|
| E.1 | Пример запроса к ДЗ-чекеру | `agents-core/homework-checker/examples/request.json` | Образец пакета A2 |
| E.2 | Пример ответа ДЗ-чекера | `agents-core/homework-checker/examples/response.json` | Образец пакета A7 |
| E.3 | Пример контекста проверки | `agents-core/homework-checker/examples/check-context.json` | Образец пакета A4 |
| E.4 | Пример результата LLM | `agents-core/homework-checker/examples/llm-response.json` | Образец пакета A6 |

---

## Сводка по количеству документов

| Система | Количество документов |
|---------|----------------------|
| ДЗ-чекер | 8 |
| Репозиторий руководств | 4 |
| LMS (Aisystant) | 4 |
| Инфраструктура | 2 |
| Примеры данных | 4 |
| **Итого** | **22** |

---

## Приоритет разработки

### Критический путь (блокирует запуск)

1. Схемы данных (1.2, 1.3, 2.2) — определяют контракты между системами
2. API-спецификации (1.1, 2.1) — основа для параллельной разработки
3. Промпты (1.4, 1.5) — ядро логики проверки
4. Базовая рубрика (2.4) — критерии оценки

### Второй приоритет (нужны для интеграции)

5. Конфигурация и настройка API (1.6, 4.1)
6. Интеграция LMS с ДЗ-чекером (3.4)
7. UI-спецификации для LMS (3.1, 3.2, 3.3)

### Третий приоритет (документация и примеры)

8. README и манифест (1.7, 1.8)
9. Требования к структуре руководств (2.3)
10. Диаграмма последовательности (4.2)
11. Примеры данных (E.1–E.4)

---

**Статус:** Черновик
**Дата:** 2025-12-23

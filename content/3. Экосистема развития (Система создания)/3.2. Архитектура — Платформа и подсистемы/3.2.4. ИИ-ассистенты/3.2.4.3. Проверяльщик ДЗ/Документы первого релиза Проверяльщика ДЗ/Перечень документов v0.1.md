# Перечень документов для первого релиза (v0.1) ДЗ-чекера

Документ составлен на основе [Общего описания Проверяльщика ДЗ](../Общее%20описание%20Проверяльщика%20ДЗ%20(ДЗ-чекер)%203.2.md).

---

## Системы и их расположение

| Система | Роль | Расположение кода | Расположение описаний |
|---------|------|-------------------|----------------------|
| **ДЗ-чекер** | Движок проверки ДЗ | `agents-core/homework-checker/` | `content/.../3.2.4.3. Проверяльщик ДЗ/` |
| **Репозиторий руководств** | Хранилище нормативов | Отдельный репозиторий | Отдельный репозиторий |
| **LMS (Aisystant)** | Интерфейс студента | Внешняя система | Внешняя система |
| **LLM (Claude API)** | Исполнитель проверки | Внешний сервис | — |

---

## Разделение: описания vs рабочие файлы

```
ecosystem-development/
├── content/                          ← ОПИСАНИЯ (для людей)
│   └── .../3.2.4.3. Проверяльщик ДЗ/
│       ├── Общее описание...md       ← концепция, архитектура
│       ├── Документы первого релиза/
│       │   └── (этот документ)
│       └── Спецификации v0.1/        ← спецификации для согласования
│
└── agents-core/                      ← РАБОЧИЕ ФАЙЛЫ (для машин)
    └── homework-checker/
        ├── check.py                  ← код
        ├── config.yaml               ← конфигурация
        ├── schemas/                  ← JSON-схемы валидации
        ├── data/prompts/             ← промпты для LLM
        └── examples/                 ← тестовые данные
```

---

## Часть 1: Описания (content/)

Документы для согласования, чтения людьми, понимания системы.

**Расположение:** `content/.../3.2.4.3. Проверяльщик ДЗ/Спецификации v0.1/`

| № | Документ | Описание |
|---|----------|----------|
| D.1 | [Спецификация API ДЗ-чекера](../Спецификации%20v0.1/D.1%20Спецификация%20API%20ДЗ-чекера.md) | HTTP-endpoint, формат запроса/ответа, коды ошибок ✅ |
| D.2 | [Интеграция с репозиторием руководств](../Спецификации%20v0.1/D.2%20Интеграция%20с%20репозиторием%20руководств.md) | Формат запроса контекста, формат ответа ✅ |
| D.3 | [Описание промптов](../Спецификации%20v0.1/D.3%20Описание%20промптов.md) | Принципы проверки, роль наставника ✅ |
| D.4 | [Рубрики проверки](../Спецификации%20v0.1/D.4%20Рубрики%20проверки.md) | Критерии оценки, веса, пороги решений ✅ |
| D.5 | [Требования к LMS](../Спецификации%20v0.1/D.5%20Требования%20к%20LMS.md) | UI кнопки, отображение результата, проверка подписки ✅ |

---

## Часть 2: Рабочие файлы (agents-core/)

Файлы, которые непосредственно используются в работе агента.

**Расположение:** `agents-core/homework-checker/`

### 2.1. Код и конфигурация

| № | Файл | Путь | Описание |
|---|------|------|----------|
| R.1 | HTTP-сервер | `server.py` | Код endpoint для приёма запросов ✅ |
| R.2 | Основная логика | `check.py` | Логика проверки ✅ |
| R.3 | Конфигурация | `config.yaml` | URL API, модель, таймауты ✅ |
| R.4 | Манифест | `manifest.json` | Метаданные агента ✅ |
| R.5 | README | `README.md` | Инструкции по запуску ✅ |

### 2.2. Схемы данных (для валидации)

| № | Файл | Путь | Описание |
|---|------|------|----------|
| R.6 | Схема запроса | `schemas/check_request.json` | JSON-схема входящего пакета ✅ |
| R.7 | Схема результата | `schemas/check_result.json` | JSON-схема исходящего пакета ✅ |

### 2.3. Промпты (для LLM)

| № | Файл | Путь | Описание |
|---|------|------|----------|
| R.8 | Системный промпт | `data/prompts/system.txt` | Роль и принципы ✅ |
| R.9 | Шаблон проверки | `data/prompts/check_template.txt` | Шаблон с переменными ✅ |

### 2.4. Данные

| № | Файл | Путь | Описание |
|---|------|------|----------|
| R.10 | Рубрики | `data/rubrics.yaml` | Критерии с весами ✅ |
| R.11 | Карта вопросов | `data/questions_map.yaml` | Связь вопросов с разделами (для v0.2) ✅ |

### 2.5. Примеры (для тестирования)

| № | Файл | Путь | Описание |
|---|------|------|----------|
| R.12 | Пример запроса | `examples/request_example.json` | Тестовый входной пакет ✅ |
| R.13 | Пример результата | `examples/result_example.json` | Тестовый выходной пакет ✅ |

---

## Часть 3: Репозиторий руководств (внешний)

Файлы в отдельном репозитории — **MCP-сервер по аналогии с [fsm-mcp](https://github.com/aisystant/fsm-mcp)**.

**Референсная архитектура:** [github.com/aisystant/fsm-mcp](https://github.com/aisystant/fsm-mcp)

### 3.1. Описания

| № | Документ | Описание |
|---|----------|----------|
| G.1 | Спецификация MCP-эндпоинта /check-context | Формат запроса и ответа для получения контекста проверки |
| G.2 | Требования к структуре руководств | Правила организации файлов, именование разделов |

### 3.2. Рабочие файлы

| № | Файл | Описание |
|---|------|----------|
| G.3 | Код MCP-сервера (Cloudflare Workers) | Реализация эндпоинта /check-context (TypeScript) |
| G.4 | Схема контекста | JSON-схема ответа (норматив, рубрика) |

---

## Сводка

| Категория | Расположение | К разработке | Готово |
|-----------|--------------|--------------|--------|
| Описания (content/) | `content/.../Спецификации v0.1/` | 0 | **5** |
| Рабочие файлы (agents-core/) | `agents-core/homework-checker/` | 0 | **13** |
| Репозиторий руководств | Внешний репозиторий | 4 | ? |
| **Итого** | | **4** | **18** |

---

## Приоритет разработки

### Критический путь — ✅ ВЫПОЛНЕНО

1. ~~**R.1** HTTP-сервер (server.py)~~ ✅ Создан
2. ~~**D.1** Спецификация API ДЗ-чекера~~ ✅ Создана
3. ~~Интеграция с Claude API~~ ✅ Реализована (check.py → call_llm)
4. ~~**D.1–D.5** Описательные документы~~ ✅ Все 5 созданы

### Ожидают внешние системы

5. **G.1, G.3** MCP-эндпоинт в репозитории руководств — источник норматива
6. **G.2, G.4** Схема контекста и требования к структуре руководств
7. Интеграция LMS с ДЗ-чекером

---

**Статус:** ✅ Все внутренние документы и код готовы. Ожидаем интеграцию с репозиторием руководств (MCP-сервер по аналогии с fsm-mcp) и LMS.
**Дата:** 2025-12-25

# Перечень документов для первого релиза (v0.1) ДЗ-чекера

Документ составлен на основе [Общего описания Проверяльщика ДЗ](../Общее%20описание%20Проверяльщика%20ДЗ%20(ДЗ-чекер)%203.2.md).

---

## Scope v0.1

**Программа:** «Личное развитие»

v0.1 включает полную функциональность проверки домашних заданий для программы «Личное развитие»:
- n8n workflow с 7 нодами
- MCP endpoint для репозитория руководств
- Интеграция с LMS
- Claude 3 Haiku для проверки

---

## Системы и их расположение

| Система | Роль | Реализация |
|---------|------|------------|
| **ДЗ-чекер** | Движок проверки ДЗ | n8n workflow (7 нод) |
| **Репозиторий руководств** | Хранилище нормативов | MCP-сервер для «Личное развитие» |
| **LMS (Aisystant)** | Интерфейс студента | Кнопка «Проверить с ИИ» |
| **LLM (Claude API)** | Исполнитель проверки | `claude-3-haiku-20240307` |

---

## Часть 1: Описания (content/)

Документы для согласования, чтения людьми, понимания системы.

**Расположение:** `content/.../3.2.4.3. Проверяльщик ДЗ/Спецификации v0.1/`

| № | Документ | Описание | Статус |
|---|----------|----------|--------|
| D.1 | [Спецификация API ДЗ-чекера](../Спецификации%20v0.1/D.1%20Спецификация%20API%20ДЗ-чекера.md) | Webhook endpoint, формат запроса/ответа, коды ошибок | ✅ |
| D.2 | [Интеграция с репозиторием руководств](../Спецификации%20v0.1/D.2%20Интеграция%20с%20репозиторием%20руководств.md) | MCP endpoint, формат контекста | ✅ |
| D.3 | [Описание промптов](../Спецификации%20v0.1/D.3%20Описание%20промптов.md) | Структура промпта, формат ответа LLM | ✅ |
| D.4 | [Рубрики проверки](../Спецификации%20v0.1/D.4%20Рубрики%20проверки.md) | Критерии оценки, веса, пороги решений | ✅ |
| D.5 | [Требования к LMS](../Спецификации%20v0.1/D.5%20Требования%20к%20LMS.md) | UI кнопки, отображение результата, обработка ошибок | ✅ |

---

## Часть 2: n8n Workflow

Workflow реализован в n8n и состоит из 7 нод.

### Ноды workflow

| № | Нода | Тип | Назначение |
|---|------|-----|------------|
| 1 | Webhook | Trigger | POST `/webhook/check` — приём запросов от LMS |
| 2 | Code (Validate) | Code | Валидация обязательных полей, 400 при ошибке |
| 3 | HTTP Request (Context) | HTTP Request | Запрос к MCP-серверу репозитория руководств |
| 4 | Code (Build Prompt) | Code | Сборка промпта из вопроса, ответа, норматива, критериев |
| 5 | HTTP Request (LLM) | HTTP Request | Запрос к Claude API |
| 6 | Code (Format) | Code | Парсинг ответа LLM, формирование Markdown-комментария |
| 7 | Respond to Webhook | Response | Возврат `{comment, checked_at, raw_llm}` |

---

## Часть 3: Репозиторий руководств

**MCP-сервер для программы «Личное развитие»**

| № | Компонент | Описание | Статус |
|---|-----------|----------|--------|
| G.1 | MCP endpoint `/check-context` | Возвращает normative_text и rubric | ⏳ TODO |
| G.2 | Структура guides/ | Markdown-файлы руководств по курсам | ⏳ TODO |
| G.3 | Структура rubrics/ | YAML-файлы с критериями и весами | ⏳ TODO |

**Референс:** [github.com/aisystant/fsm-mcp](https://github.com/aisystant/fsm-mcp)

---

## Roadmap

### v0.1 — Программа «Личное развитие»

- n8n workflow ✅
- MCP endpoint для «Личное развитие» ⏳
- Интеграция с LMS ⏳

### v0.2 — Интеграция с наставниками

- Сохранение результатов в LMS
- Обратная связь от наставников

### v0.3 — Программа «Рабочее развитие»

- MCP endpoint для «Рабочее развитие»
- Расширенные рубрики

### v0.4 — Интеграция с экосистемой

- Ассистент ученика
- Цифровой двойник

---

## Что осталось для v0.1

| Задача | Описание |
|--------|----------|
| MCP endpoint | Создать MCP-сервер для «Личное развитие» |
| Исправить LLM-ноду | Content-Type без `=`, Expression для тела |
| Использовать prod URL | `/webhook/check` вместо `/webhook-test/check` |
| Интеграция LMS | Кнопка «Проверить с ИИ» + обработка ответов |

---

**Статус:** n8n workflow готов, MCP endpoint и интеграция с LMS в разработке
**Дата:** 2025-12-31

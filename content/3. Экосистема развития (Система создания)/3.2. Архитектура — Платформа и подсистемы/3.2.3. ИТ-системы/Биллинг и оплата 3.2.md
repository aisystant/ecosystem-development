---

type: doc
audience: mixed
edit_mode: manual
layer: service
scope: local-edge
security: internal
status: draft
version: 2.0
created: 2025-11-13
---


# 9. –°–∏—Å—Ç–µ–º–∞ –±–∏–ª–ª–∏–Ω–≥–∞ (Billing System)

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, —Ç–∞—Ä–∏—Ñ–∞–º–∏, –¥–æ—Å—Ç—É–ø–∞–º–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –¥–æ—Ö–æ–¥–æ–≤. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏: –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –¥–æ –º–µ–Ω—Ç–æ—Ä–æ–≤ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –†–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã FPF: —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –≥–∏–±–∫–∏–µ —Ç–∞—Ä–∏—Ñ—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏, —Å–∫–≤–æ–∑–Ω—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –æ—Ç –ø–æ–∫—É–ø–∫–∏ –¥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–æ–≤, –¥–∏–¥–∞–∫—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è.

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –±–∏–ª–ª–∏–Ω–≥–∞ ‚Äî —ç—Ç–æ **—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã**, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø–ª–∞—Ç–µ–∂–∏ –≤ –¥–æ—Å—Ç—É–ø—ã, –∞ –¥–æ—Ö–æ–¥—ã ‚Äî –≤ –º–æ—Ç–∏–≤–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞–º–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏**
   - –ì–∏–±–∫–∏–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã (freemium, subscription, pay-per-course)
   - –ü–æ–¥–ø–∏—Å–∫–∏ —Å trial periods –∏ grace periods
   - Upgrade/downgrade —Å prorated billing
   - –°–µ–º–µ–π–Ω—ã–µ –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–ª–∞–Ω—ã
   - –ü—Ä–æ–º–æ–∫–æ–¥—ã, —Å–∫–∏–¥–∫–∏, –∞–∫—Ü–∏–∏

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞–º–∏ (Access Control)**
   - –í—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–ª–∞—Ç—ã
   - Feature gating (—Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º)
   - Quota management (–ª–∏–º–∏—Ç—ã –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º)
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã (trial, limited access)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–ø–ª–∞—Ç–µ

3. **–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏**
   - –ë–æ–Ω—É—Å—ã –∑–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏
   - –°–∫–∏–¥–∫–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (cashback –∑–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è)
   - –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏ (—á–µ–º –±–æ–ª—å—à–µ –∫—É—Ä—Å–æ–≤, —Ç–µ–º –±–æ–ª—å—à–µ —Å–∫–∏–¥–∫–∞)

4. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ (Revenue Sharing)**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã —Å —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–∞–≤—Ç–æ—Ä—ã, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏)
   - Split rules (–¥–æ–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–æ–ª—è–º–∏)
   - –ú–µ–Ω—Ç–æ—Ä—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã (–∑–∞ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)
   - –†–æ—è–ª—Ç–∏ –∑–∞ –ø—Ä–æ–¥–∞–∂–∏ –∫—É—Ä—Å–æ–≤
   - –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π dashboard –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π

5. **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –∏ —é–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞**
   - –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Ö–æ–¥–æ–≤ –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º, –∫–∞–Ω–∞–ª–∞–º, –∫–æ–≥–æ—Ä—Ç–∞–º
   - –ú–µ—Ç—Ä–∏–∫–∏: MRR, ARR, LTV, CAC, churn
   - –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—Ä—É—á–∫–∏
   - –ù–∞–ª–æ–≥–æ–≤–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å
   - –í—ã–≥—Ä—É–∑–∫–∏ –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏

### –†–æ–ª—å –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

–ë–∏–ª–ª–∏–Ω–≥ ‚Äî —Ü–µ–Ω—Ç—Ä –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏:
- –ü–æ–ª—É—á–∞–µ—Ç –ø–ª–∞—Ç–µ–∂–∏ –æ—Ç **Payment Gateway** (4.8)
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–∞—Ä–∏—Ñ–∞–º–∏ –∏ –¥–æ—Å—Ç—É–ø–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º (**LMS**, **AI OS**, **Club**)
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏ –Ω–∞—á–∏—Å–ª—è–µ—Ç –¥–æ—Ö–æ–¥—ã —Å–æ–∑–¥–∞—Ç–µ–ª—è–º —á–µ—Ä–µ–∑ **Tokenomics** (4.10)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏ —Å **CRM** (4.7) –¥–ª—è customer success
- –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ billing —Å–æ–±—ã—Ç–∏—è –≤ **Activity Hub** (4.6)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. Subscription Manager (–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥–ø–∏—Å–æ–∫)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ lifecycle –ø–æ–¥–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.

**–§—É–Ω–∫—Ü–∏–∏:**
- **Subscription Creation** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ
- **Plan Management** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–º–∏ –ø–ª–∞–Ω–∞–º–∏
- **Lifecycle Management** ‚Äî trialing, active, past_due, cancelled, expired
- **Renewal Handling** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
- **Change Management** ‚Äî upgrade/downgrade —Å proration

**–¢–∏–ø—ã –ø–æ–¥–ø–∏—Å–æ–∫:**
- **Freemium** ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- **Basic** ‚Äî –±–∞–∑–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- **Standard** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å–∞–º)
- **Premium** ‚Äî –ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞ (–≤—Å–µ –∫—É—Ä—Å—ã + –º–µ–Ω—Ç–æ—Ä + AI features)
- **Enterprise** ‚Äî –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω (–¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π/–≤—É–∑–æ–≤, custom pricing)

**Proration logic:**
```python
def calculate_proration(old_plan, new_plan, days_used, days_total):
    # –ü—Ä–∏ upgrade: immediate charge –∑–∞ —Ä–∞–∑–Ω–∏—Ü—É
    if new_plan.price > old_plan.price:
        unused_value = (old_plan.price / days_total) * (days_total - days_used)
        new_period_value = (new_plan.price / days_total) * (days_total - days_used)
        charge_now = new_period_value - unused_value
        return charge_now

    # –ü—Ä–∏ downgrade: credit –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–∏–æ–¥
    else:
        credit = ((old_plan.price - new_plan.price) / days_total) * (days_total - days_used)
        return -credit  # negative –æ–∑–Ω–∞—á–∞–µ—Ç credit
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Payment Gateway (4.8) ‚Äî –∏–Ω–∏—Ü–∏–∞—Ü–∏—è recurring payments
- Digital Twin (4.11) ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ subscription tier
- LMS (4.4), AI OS (4.2) ‚Äî –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–æ–≤
- CRM (4.7) ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è subscription status

#### 2. Access Control Engine (–î–≤–∏–∂–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞–º–∏)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–¥–ø–∏—Å–∫–∏/–æ–ø–ª–∞—Ç—ã.

**–§—É–Ω–∫—Ü–∏–∏:**
- **Permission Check** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å—É
- **Feature Gating** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º
- **Quota Management** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞–º–∏ (compute hours, storage, AI calls)
- **Trial Access** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã –¥–ª—è trial users
- **Access Revocation** ‚Äî –æ—Ç–∑—ã–≤ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ –Ω–µ–æ–ø–ª–∞—Ç–µ

**Access matrix (–ø—Ä–∏–º–µ—Ä):**

| –§—É–Ω–∫—Ü–∏—è | Freemium | Basic | Standard | Premium | Enterprise |
|---------|----------|-------|----------|---------|-----------|
| –ö—É—Ä—Å—ã (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ) | 1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π | 5 | Unlimited | Unlimited | Unlimited + custom |
| AI Assistant | ‚ùå | 10 calls/day | 50 calls/day | Unlimited | Unlimited |
| Personal Guide | ‚ùå | Basic | Advanced | Advanced + mentors | Custom paths |
| Interactive Modeler | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ |
| Club access | Read-only | Read + post | Full | Full + badges | Full + private channels |
| Storage | 100 MB | 1 GB | 10 GB | 50 GB | Custom |
| Priority support | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ + SLA |

**Check access flow:**
```python
def check_access(user_id, resource_type, resource_id):
    subscription = get_user_subscription(user_id)

    if subscription.status not in ['active', 'trialing']:
        return AccessDenied("Subscription inactive")

    plan = subscription.plan

    # Feature gating
    if resource_type == 'ai_assistant':
        quota = get_quota(user_id, 'ai_calls', period='day')
        if quota.consumed >= plan.limits['ai_calls_per_day']:
            return AccessDenied("Quota exceeded")
        increment_quota(user_id, 'ai_calls')

    # Course access
    if resource_type == 'course':
        if plan.course_access == 'all':
            return AccessGranted()
        elif has_purchased_course(user_id, resource_id):
            return AccessGranted()
        else:
            return AccessDenied("Course not in subscription")

    return AccessGranted()
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- LMS (4.4) ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫—É—Ä—Å–∞–º
- AI OS (4.2) ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–≤–æ—Ç –Ω–∞ AI –≤—ã–∑–æ–≤—ã
- Club (4.3) ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –∫–ª—É–±–∞
- Guide (4.5) ‚Äî –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª–µ—Ä—É –∏ advanced features

#### 3. Pricing & Promotion Engine (–î–≤–∏–∂–æ–∫ —Ü–µ–Ω –∏ –∞–∫—Ü–∏–π)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏, —Å–∫–∏–¥–∫–∞–º–∏, –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏.

**–§—É–Ω–∫—Ü–∏–∏:**
- **Dynamic Pricing** ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ü–µ–Ω—ã (A/B —Ç–µ—Å—Ç—ã, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è)
- **Promo Codes** ‚Äî –ø—Ä–æ–º–æ–∫–æ–¥—ã (percentage off, fixed amount, free trial extension)
- **Referral Program** ‚Äî —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏
- **Bundle Pricing** ‚Äî —Å–∫–∏–¥–∫–∏ –Ω–∞ –Ω–∞–±–æ—Ä—ã –∫—É—Ä—Å–æ–≤
- **Loyalty Discounts** ‚Äî –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏

**–¢–∏–ø—ã —Å–∫–∏–¥–æ–∫:**
- **Percentage off** ‚Äî —Å–∫–∏–¥–∫–∞ –≤ % (20% off)
- **Fixed amount** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞ ($50 off)
- **Free trial extension** ‚Äî –ø—Ä–æ–¥–ª–µ–Ω–∏–µ trial (7 –¥–Ω–µ–π ‚Üí 14 –¥–Ω–µ–π)
- **First purchase** ‚Äî —Å–∫–∏–¥–∫–∞ –Ω–∞ –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É (welcome discount)
- **Referral bonus** ‚Äî –±–æ–Ω—É—Å –∑–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥—Ä—É–≥–∞ (both get discount)

**Loyalty program logic:**
```python
def calculate_loyalty_discount(user_id):
    total_spent = get_total_lifetime_spend(user_id)
    courses_completed = get_courses_completed_count(user_id)

    # Tier based on spend
    if total_spent >= 1000:
        tier_discount = 0.15  # 15% –¥–ª—è VIP
    elif total_spent >= 500:
        tier_discount = 0.10  # 10% –¥–ª—è Gold
    elif total_spent >= 200:
        tier_discount = 0.05  # 5% –¥–ª—è Silver
    else:
        tier_discount = 0

    # Bonus –∑–∞ completed courses
    completion_bonus = min(courses_completed * 0.01, 0.10)  # –¥–æ 10% –º–∞–∫—Å–∏–º—É–º

    return min(tier_discount + completion_bonus, 0.25)  # –º–∞–∫—Å–∏–º—É–º 25% —Å–∫–∏–¥–∫–∞
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- CRM (4.7) ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ offers
- Tokenomics (4.10) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —Å–∫–∏–¥–æ–∫
- Digital Twin (4.11) ‚Äî history –ø–æ–∫—É–ø–æ–∫ –¥–ª—è loyalty

#### 4. Revenue Distribution Engine (–î–≤–∏–∂–æ–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–æ–≤)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã –∏ –≤—ã–ø–ª–∞—Ç—ã —Å–æ–∑–¥–∞—Ç–µ–ª—è–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

**–§—É–Ω–∫—Ü–∏–∏:**
- **Split Rules Management** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª—è–º–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- **Revenue Calculation** ‚Äî —Ä–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
- **Payout Scheduling** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç (monthly, quarterly)
- **Withholding** ‚Äî —É–¥–µ—Ä–∂–∞–Ω–∏—è (platform fee, taxes)
- **Transparency Dashboard** ‚Äî –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π dashboard –¥–ª—è –≤—Å–µ—Ö

**–†–æ–ª–∏ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –¥–æ—Ö–æ–¥–æ–≤:**
- **Course Author** ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∫—É—Ä—Å–∞ (–∫–æ–Ω—Ç–µ–Ω—Ç, –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è)
- **Instructor** ‚Äî –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø–æ—Ç–æ–∫–∞ (–≤–µ–¥–µ–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –î–ó)
- **Mentor** ‚Äî –º–µ–Ω—Ç–æ—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞ (–ª–∏—á–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ)
- **Curator** ‚Äî –∫—É—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã (–¥–∏–∑–∞–π–Ω —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏)
- **Platform** ‚Äî –∫–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

**Split rules (–ø—Ä–∏–º–µ—Ä –¥–ª—è –∫—É—Ä—Å–∞):**
```
–¶–µ–Ω–∞ –∫—É—Ä—Å–∞: $100
- Platform fee: 30% ‚Üí $30
- Course Author: 50% ‚Üí $50
- Instructor: 15% ‚Üí $15
- Curator: 5% ‚Üí $5

–ü—Ä–∏ –º–µ–Ω—Ç–æ—Ä—Å–∫–æ–º —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏ (Premium):
–¶–µ–Ω–∞: $200
- Platform fee: 25% ‚Üí $50
- Course Author: 35% ‚Üí $70
- Instructor: 15% ‚Üí $30
- Mentor: 20% ‚Üí $40
- Curator: 5% ‚Üí $10
```

**Payout flow:**
```python
def calculate_monthly_payout(creator_id, month):
    # 1. –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –ø—Ä–æ–¥–∞–∂–∏ –∑–∞ –º–µ—Å—è—Ü
    sales = get_sales_for_creator(creator_id, month)

    # 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å split rules
    total_revenue = 0
    for sale in sales:
        split_rule = get_split_rule(sale.product_id, creator_id)
        creator_share = sale.amount * split_rule.percentage
        total_revenue += creator_share

    # 3. –í—ã—á–µ—Å—Ç—å withholdings
    platform_fee = total_revenue * 0.05  # admin fee
    tax_withholding = total_revenue * get_tax_rate(creator_id)

    net_payout = total_revenue - platform_fee - tax_withholding

    # 4. –°–æ–∑–¥–∞—Ç—å payout request
    create_payout(creator_id, net_payout, month)

    return net_payout
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Tokenomics (4.10) ‚Äî –≤—ã–ø–ª–∞—Ç—ã –≤ —Ç–æ–∫–µ–Ω–∞—Ö + —Ñ–∏–∞—Ç
- Payment Gateway (4.8) ‚Äî payout —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- Activity Hub (4.6) ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ payouts
- CRM (4.7) ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ creator relationships

#### 5. Invoice & Receipt Manager (–ú–µ–Ω–µ–¥–∂–µ—Ä —Å—á–µ—Ç–æ–≤ –∏ —á–µ–∫–æ–≤)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–æ–≤ –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- **Invoice Generation** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—á–µ—Ç–æ–≤ (–¥–ª—è b2b)
- **Receipt Generation** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–æ–≤ (–¥–ª—è b2c)
- **Tax Calculation** ‚Äî —Ä–∞—Å—á—ë—Ç –Ω–∞–ª–æ–≥–æ–≤ (VAT, sales tax)
- **Document Storage** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **Email Delivery** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

**–¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
- **Invoice (—Å—á—ë—Ç)** ‚Äî –¥–ª—è b2b –∫–ª–∏–µ–Ω—Ç–æ–≤ (pre-payment)
- **Receipt (—á–µ–∫)** ‚Äî –¥–ª—è b2c –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- **Credit Note** ‚Äî –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- **Payout Statement** ‚Äî –¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (monthly)

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Payment Gateway (4.8) ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å payment events
- Fiscal services ‚Äî —Ñ–∏—Å–∫–∞–ª–∏–∑–∞—Ü–∏—è (–¥–ª—è –†–§)

#### 6. Analytics & Reporting (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —é–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞.

**–§—É–Ω–∫—Ü–∏–∏:**
- **Revenue Reports** ‚Äî –æ—Ç—á—ë—Ç—ã –ø–æ –≤—ã—Ä—É—á–∫–µ (MRR, ARR, churn)
- **Cohort Analysis** ‚Äî –∞–Ω–∞–ª–∏–∑ –∫–æ–≥–æ—Ä—Ç (retention, LTV)
- **Product Performance** ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–∫—É—Ä—Å—ã, –ø–æ–¥–ø–∏—Å–∫–∏)
- **Channel Attribution** ‚Äî –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à–ª–∏ –ø–ª–∞—Ç—è—â–∏–µ –∫–ª–∏–µ–Ω—Ç—ã
- **Creator Payouts** ‚Äî –æ—Ç—á—ë—Ç—ã –ø–æ –≤—ã–ø–ª–∞—Ç–∞–º —Å–æ–∑–¥–∞—Ç–µ–ª—è–º
- **Tax Reports** ‚Äî –Ω–∞–ª–æ–≥–æ–≤–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- **MRR (Monthly Recurring Revenue)** ‚Äî –º–µ—Å—è—á–Ω–∞—è recurring –≤—ã—Ä—É—á–∫–∞
- **ARR (Annual Recurring Revenue)** ‚Äî –≥–æ–¥–æ–≤–∞—è recurring –≤—ã—Ä—É—á–∫–∞
- **LTV (Lifetime Value)** ‚Äî lifetime —Ü–µ–Ω–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
- **CAC (Customer Acquisition Cost)** ‚Äî —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- **Churn Rate** ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç —É—à–µ–¥—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- **NRR (Net Revenue Retention)** ‚Äî net retention —Å —É—á—ë—Ç–æ–º upsell

**Cohort analysis example:**
```python
def cohort_retention_analysis(cohort_month):
    # 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤ cohort_month
    users = get_users_registered_in(cohort_month)

    # 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—Å—á–∏—Ç–∞—Ç—å retention
    retention_by_month = {}
    for month_offset in range(0, 12):  # –ø–µ—Ä–≤—ã–µ 12 –º–µ—Å—è—Ü–µ–≤
        active_count = count_active_subscriptions(
            users,
            cohort_month + month_offset
        )
        retention_pct = active_count / len(users)
        retention_by_month[month_offset] = retention_pct

    return retention_by_month
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- BI tools (Metabase, Superset) –¥–ª—è dashboards
- Excel/CSV exports –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏
- Activity Hub (4.6) ‚Äî source –¥–∞–Ω–Ω—ã—Ö

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Backend:**
- Python/Django –∏–ª–∏ Ruby on Rails –¥–ª—è subscription management
- PostgreSQL –¥–ª—è transactional data
- Redis –¥–ª—è caching subscriptions –∏ access checks

**Billing Logic:**
- Custom billing engine (–¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏)
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Stripe Billing, Chargebee (—Å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–µ–π)

**Access Control:**
- Policy engine (OPA, Casbin) –¥–ª—è permissions
- Redis –¥–ª—è fast access checks (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)

**Analytics:**
- ClickHouse –∏–ª–∏ TimescaleDB –¥–ª—è OLAP
- Metabase/Superset –¥–ª—è dashboards

**Integration:**
- Kafka –¥–ª—è events (—Å Activity Hub)
- REST APIs –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

## –ü—Ä–æ—Ü–µ—Å—Å—ã

### –ü1. –ü–æ–∫—É–ø–∫–∞ –∫—É—Ä—Å–∞ (one-time purchase)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.

**–≠—Ç–∞–ø—ã:**
1. **Select Course** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫—É—Ä—Å
2. **Check Price** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ü–µ–Ω—É (—Å —É—á—ë—Ç–æ–º loyalty discount)
3. **Apply Promo** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–æ–º–æ–∫–æ–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **Initiate Payment** ‚Äî redirect –Ω–∞ Payment Gateway
5. **Payment Success** ‚Äî Payment Gateway –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—É
6. **Grant Access** ‚Äî Billing –≤—ã–¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É
7. **Notify Creator** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç–µ–ª—é –æ –ø—Ä–æ–¥–∞–∂–µ
8. **Calculate Revenue Split** ‚Äî —Ä–∞—Å—á—ë—Ç –¥–æ–ª–µ–π –¥–ª—è –∞–≤—Ç–æ—Ä–∞/–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
9. **Send Receipt** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ–∫–∞ –Ω–∞ email
10. **Enroll in LMS** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å –≤ LMS

**Revenue split:**
```
–¶–µ–Ω–∞ –∫—É—Ä—Å–∞: $100
- Platform: $30
- Author: $50
- Instructor (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ—Ç–æ–∫): $15
- Referrer (–µ—Å–ª–∏ –±—ã–ª —Ä–µ—Ñ–µ—Ä–∞–ª): $5
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Payment Gateway (4.8) ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞
- LMS (4.4) ‚Äî –∑–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å
- Tokenomics (4.10) ‚Äî –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ–ª–µ–π —Å–æ–∑–¥–∞—Ç–µ–ª—è–º (–≤ —Ç–æ–∫–µ–Ω–∞—Ö + —Ñ–∏–∞—Ç)
- Activity Hub (4.6) ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ purchase event

### –ü2. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (subscription)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ recurring –ø–æ–¥–ø–∏—Å–∫–∏.

**–≠—Ç–∞–ø—ã:**
1. **Select Plan** ‚Äî –≤—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ (Basic, Standard, Premium)
2. **Trial Setup** ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å trial, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ trial period
3. **First Payment** ‚Äî –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Payment Gateway
4. **Create Subscription** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ subscription entity
5. **Grant Access** ‚Äî –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø–ª–∞–Ω–∞
6. **Onboarding** ‚Äî trigger onboarding sequence –≤ CRM
7. **Schedule Renewal** ‚Äî –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ —Å–ø–∏—Å–∞–Ω–∏–µ

**Trial handling:**
```
Trial period: 14 –¥–Ω–µ–π
- Day 0: Trial starts, full access
- Day 11: Email reminder (3 –¥–Ω—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è)
- Day 13: Last email reminder (1 –¥–µ–Ω—å –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è)
- Day 14: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É
- –ï—Å–ª–∏ payment fails: grace period 3 –¥–Ω—è
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Payment Gateway (4.8) ‚Äî recurring payments
- Digital Twin (4.11) ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ subscription tier
- All systems (LMS, AI OS, Club) ‚Äî –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–æ–≤
- CRM (4.7) ‚Äî onboarding campaigns

### –ü3. Upgrade/downgrade –ø–æ–¥–ø–∏—Å–∫–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞.

**–≠—Ç–∞–ø—ã (Upgrade):**
1. **Select New Plan** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–æ–π –ø–ª–∞–Ω
2. **Calculate Proration** ‚Äî —Ä–∞—Å—á—ë—Ç –¥–æ–ø–ª–∞—Ç—ã (prorated billing)
3. **Charge Difference** ‚Äî immediate charge –∑–∞ —Ä–∞–∑–Ω–∏—Ü—É
4. **Update Subscription** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ subscription record
5. **Grant New Access** ‚Äî –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º
6. **Notify User** ‚Äî email —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º upgrade

**–≠—Ç–∞–ø—ã (Downgrade):**
1. **Select Lower Plan** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –±–æ–ª–µ–µ –¥–µ—à—ë–≤—ã–π –ø–ª–∞–Ω
2. **Schedule Downgrade** ‚Äî downgrade –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
3. **Calculate Credit** ‚Äî —Ä–∞—Å—á—ë—Ç credit –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–∏–æ–¥
4. **Notify User** ‚Äî email —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º (downgrade –≤ –∫–æ–Ω—Ü–µ –ø–µ—Ä–∏–æ–¥–∞)
5. **On Period End** ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å downgrade –∏ revoke –¥–æ—Å—Ç—É–ø—ã

**Proration example:**
```
Current plan: Standard ($50/month)
New plan: Premium ($100/month)
Days used: 10 days out of 30

Unused value of old plan: ($50/30) * 20 = $33.33
Value of new plan for remaining days: ($100/30) * 20 = $66.67
Charge now: $66.67 - $33.33 = $33.34
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Payment Gateway (4.8) ‚Äî –ø—Ä–∏–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
- All systems ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access –ø—Ä–∞–≤

### –ü4. –ú–µ—Å—è—á–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ (monthly payout)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –∏ –≤—ã–ø–ª–∞—Ç–∞ –¥–æ—Ö–æ–¥–æ–≤ —Å–æ–∑–¥–∞—Ç–µ–ª—è–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

**–≠—Ç–∞–ø—ã:**
1. **End of Month** ‚Äî –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–µ 1-–≥–æ —á–∏—Å–ª–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞
2. **Collect Sales** ‚Äî —Å–±–æ—Ä –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂ –∑–∞ –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü
3. **Calculate Splits** ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ split rules –¥–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–¥–∞–∂–∏
4. **Aggregate by Creator** ‚Äî –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–æ—Ö–æ–¥–æ–≤ –ø–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è–º
5. **Apply Withholdings** ‚Äî –≤—ã—á–µ—Ç platform fee –∏ –Ω–∞–ª–æ–≥–æ–≤
6. **Generate Payout Statements** ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤
7. **Send Notifications** ‚Äî email —Å –æ—Ç—á—ë—Ç–æ–º –∏ —Å—É–º–º–æ–π –∫ –≤—ã–ø–ª–∞—Ç–µ
8. **Initiate Payouts** ‚Äî –∏–Ω–∏—Ü–∏–∞—Ü–∏—è –≤—ã–ø–ª–∞—Ç —á–µ—Ä–µ–∑ Payment Gateway –∏–ª–∏ Tokenomics
9. **Confirm Payouts** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–ª–∞—Ç

**Transparency dashboard –¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª—è:**
- –ü—Ä–æ–¥–∞–∂–∏ –∑–∞ –º–µ—Å—è—Ü (–ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º)
- –î–æ–ª—è –≤ –∫–∞–∂–¥–æ–π –ø—Ä–æ–¥–∞–∂–µ (split breakdown)
- –ò—Ç–æ–≥–æ –∫ –≤—ã–ø–ª–∞—Ç–µ
- –£–¥–µ—Ä–∂–∞–Ω–∏—è (platform fee, taxes)
- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- Tokenomics (4.10) ‚Äî –≤—ã–ø–ª–∞—Ç—ã –≤ —Ç–æ–∫–µ–Ω–∞—Ö
- Payment Gateway (4.8) ‚Äî —Ñ–∏–∞—Ç–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã (wire transfer, PayPal)
- CRM (4.7) ‚Äî communication —Å —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏
- Activity Hub (4.6) ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ payouts

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –í—Ö–æ–¥—è—â–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–ª–ª–∏–Ω–≥–æ–º:

- [[4.8. –°–∏—Å—Ç–µ–º—ã –ø—Ä–∏–µ–º–∞ –æ–ø–ª–∞—Ç—ã —Ñ–∏–∞—Ç–æ–º]] ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- [[4.7. CRM]] ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ b2b deals, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- [[4.4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—É—á–µ–Ω–∏—è]] ‚Äî –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–∫—É–ø–∫–∞—Ö –∫—É—Ä—Å–æ–≤, usage
- [[4.2. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ò–ò-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã]] ‚Äî usage –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è quota management
- [[4.11. –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–≤–æ–π–Ω–∏–∫]] ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è loyalty program

### –ò—Å—Ö–æ–¥—è—â–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ billing –¥–∞–Ω–Ω—ã—Ö:

- [[4.4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—É—á–µ–Ω–∏—è]] ‚Äî –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫—É—Ä—Å–∞–º
- [[4.2. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ò–ò-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã]] ‚Äî access control –¥–ª—è AI features
- [[4.3. –ö–ª—É–±]] ‚Äî access control –¥–ª—è premium features
- [[4.5. –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É]] ‚Äî –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª–µ—Ä—É
- [[4.10. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∏]] ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ –≤ —Ç–æ–∫–µ–Ω–∞—Ö
- [[4.11. –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–≤–æ–π–Ω–∏–∫]] ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ subscription tier –∏ purchase history
- [[4.7. CRM]] ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è subscription status –¥–ª—è retention campaigns
- [[4.6. –°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (—Ö–∞–± –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π)]] ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ billing events

## API –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

**Subscriptions:**
```
POST /billing/subscriptions                # –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
GET  /billing/subscriptions/:id            # –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
PUT  /billing/subscriptions/:id/plan       # –ò–∑–º–µ–Ω–∏—Ç—å –ø–ª–∞–Ω (upgrade/downgrade)
POST /billing/subscriptions/:id/cancel     # –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
GET  /billing/subscriptions/:id/invoices   # –ò—Å—Ç–æ—Ä–∏—è —Å—á–µ—Ç–æ–≤
```

**Access Control:**
```
POST /billing/access/check                 # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É
GET  /billing/access/user/:id              # –í—Å–µ –¥–æ—Å—Ç—É–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET  /billing/quotas/:user_id/:resource    # –¢–µ–∫—É—â–∏–µ –∫–≤–æ—Ç—ã
```

**Products & Pricing:**
```
GET  /billing/plans                        # –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
GET  /billing/products                     # –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–∫—É—Ä—Å—ã)
GET  /billing/products/:id/price           # –¶–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ (—Å —É—á—ë—Ç–æ–º discounts)
POST /billing/promo/validate               # –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
```

**Revenue & Payouts:**
```
GET  /billing/revenue/stats                # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏
GET  /billing/creators/:id/earnings        # –ó–∞—Ä–∞–±–æ—Ç–æ–∫ —Å–æ–∑–¥–∞—Ç–µ–ª—è
GET  /billing/creators/:id/payouts         # –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç
POST /billing/payouts/initiate             # –ò–Ω–∏—Ü–∏–∞—Ü–∏—è payout
```

**Invoices:**
```
GET  /billing/invoices/:id                 # –ü–æ–ª—É—á–∏—Ç—å —Å—á—ë—Ç
GET  /billing/invoices/user/:id            # –°—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /billing/invoices/:id/pay             # –û–ø–ª–∞—Ç–∏—Ç—å —Å—á—ë—Ç
```

### –°–æ–±—ã—Ç–∏—è

**Subscription Events:**
- `billing.subscription.created` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ —Å–æ–∑–¥–∞–Ω–∞
- `billing.subscription.trial_started` ‚Äî –Ω–∞—á–∞–ª—Å—è trial
- `billing.subscription.activated` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
- `billing.subscription.upgraded` ‚Äî upgrade –ø–ª–∞–Ω–∞
- `billing.subscription.downgraded` ‚Äî downgrade –ø–ª–∞–Ω–∞
- `billing.subscription.renewed` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–æ–¥–ª–µ–Ω–∞
- `billing.subscription.cancelled` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞
- `billing.subscription.expired` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞

**Purchase Events:**
- `billing.purchase.completed` ‚Äî –ø–æ–∫—É–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- `billing.access.granted` ‚Äî –¥–æ—Å—Ç—É–ø –≤—ã–¥–∞–Ω
- `billing.access.revoked` ‚Äî –¥–æ—Å—Ç—É–ø –æ—Ç–æ–∑–≤–∞–Ω

**Revenue Events:**
- `billing.revenue.allocated` ‚Äî –¥–æ—Ö–æ–¥ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω –ø–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è–º
- `billing.payout.scheduled` ‚Äî –≤—ã–ø–ª–∞—Ç–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞
- `billing.payout.completed` ‚Äî –≤—ã–ø–ª–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**Quota Events:**
- `billing.quota.exceeded` ‚Äî –ø—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–≤–æ—Ç–∞
- `billing.quota.reset` ‚Äî –∫–≤–æ—Ç–∞ —Å–±—Ä–æ—à–µ–Ω–∞ (–Ω–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥)

## –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü—ã (PostgreSQL):**

```sql
-- –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã
CREATE TABLE Plan (
  id UUID PRIMARY KEY,
  name VARCHAR NOT NULL,
  tier VARCHAR,  -- freemium, basic, standard, premium, enterprise
  price DECIMAL NOT NULL,
  currency VARCHAR(3) DEFAULT 'USD',
  interval VARCHAR,  -- month, year
  features JSONB,  -- —Å–ø–∏—Å–æ–∫ —Ñ–∏—á
  limits JSONB,  -- –ª–∏–º–∏—Ç—ã (ai_calls, storage, etc)
  active BOOLEAN DEFAULT true,
  created_at TIMESTAMP
);

-- –ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE UserSubscription (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  plan_id UUID REFERENCES Plan(id),
  status VARCHAR,  -- trialing, active, past_due, cancelled, expired
  current_period_start TIMESTAMP,
  current_period_end TIMESTAMP,
  trial_end TIMESTAMP,
  cancel_at_period_end BOOLEAN DEFAULT false,
  cancelled_at TIMESTAMP,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

-- –ü–æ–∫—É–ø–∫–∏ –∫—É—Ä—Å–æ–≤ (one-time)
CREATE TABLE Purchase (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  product_type VARCHAR,  -- course, bundle, etc
  product_id UUID NOT NULL,
  price DECIMAL NOT NULL,
  currency VARCHAR(3),
  discount DECIMAL DEFAULT 0,
  final_price DECIMAL NOT NULL,
  promo_code VARCHAR,
  purchased_at TIMESTAMP,
  access_expires_at TIMESTAMP  -- NULL –¥–ª—è lifetime access
);

-- –î–æ—Å—Ç—É–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE UserAccess (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  resource_type VARCHAR,  -- course, feature, ai_assistant, etc
  resource_id UUID,
  source VARCHAR,  -- subscription, purchase, trial, promo
  granted_at TIMESTAMP,
  expires_at TIMESTAMP,
  active BOOLEAN DEFAULT true
);

-- –ö–≤–æ—Ç—ã
CREATE TABLE Quota (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  resource_type VARCHAR,  -- ai_calls, storage, compute_hours
  limit_value DECIMAL,
  consumed DECIMAL DEFAULT 0,
  period_start TIMESTAMP,
  period_end TIMESTAMP,
  reset_schedule VARCHAR  -- daily, weekly, monthly
);

-- Split Rules (–ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–æ–≤)
CREATE TABLE SplitRule (
  id UUID PRIMARY KEY,
  product_id UUID NOT NULL,
  role VARCHAR,  -- author, instructor, mentor, curator, platform
  user_id UUID,  -- –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ (–∏–ª–∏ NULL –¥–ª—è —Ä–æ–ª–∏)
  percentage DECIMAL NOT NULL,  -- –¥–æ–ª—è –≤ %
  active BOOLEAN DEFAULT true,
  created_at TIMESTAMP
);

-- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ (revenue allocations)
CREATE TABLE RevenueAllocation (
  id UUID PRIMARY KEY,
  purchase_id UUID REFERENCES Purchase(id),
  recipient_id UUID NOT NULL,
  role VARCHAR,
  amount DECIMAL NOT NULL,
  currency VARCHAR(3),
  status VARCHAR,  -- pending, processed, paid
  payout_id UUID,
  created_at TIMESTAMP
);

-- –í—ã–ø–ª–∞—Ç—ã —Å–æ–∑–¥–∞—Ç–µ–ª—è–º
CREATE TABLE Payout (
  id UUID PRIMARY KEY,
  recipient_id UUID NOT NULL,
  amount DECIMAL NOT NULL,
  currency VARCHAR(3),
  period_start DATE,
  period_end DATE,
  status VARCHAR,  -- scheduled, processing, completed, failed
  payment_method VARCHAR,  -- bank_transfer, paypal, crypto, tokens
  paid_at TIMESTAMP,
  created_at TIMESTAMP
);

-- –ü—Ä–æ–º–æ–∫–æ–¥—ã
CREATE TABLE PromoCode (
  id UUID PRIMARY KEY,
  code VARCHAR UNIQUE NOT NULL,
  type VARCHAR,  -- percentage, fixed_amount, trial_extension
  value DECIMAL,
  max_uses INT,
  used_count INT DEFAULT 0,
  valid_from TIMESTAMP,
  valid_until TIMESTAMP,
  active BOOLEAN DEFAULT true
);
```

### Retention policy

- **Subscriptions:** –ë–µ—Å—Å—Ä–æ—á–Ω–æ (–ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã), 7 –ª–µ—Ç –ø–æ—Å–ª–µ cancellation
- **Purchases:** 7 –ª–µ—Ç (–Ω–∞–ª–æ–≥–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- **Invoices:** 7 –ª–µ—Ç
- **Revenue Allocations:** 7 –ª–µ—Ç
- **Payouts:** 7 –ª–µ—Ç
- **Promo Codes:** 2 –≥–æ–¥–∞ –ø–æ—Å–ª–µ expiration

## –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –¢–µ–∫—É—â–µ–µ |
|---------|------------------|---------|
| MRR (Monthly Recurring Revenue) | [—Ü–µ–ª–µ–≤–æ–µ] | ‚Äî |
| MRR Growth Rate | >10% MoM | ‚Äî |
| ARR (Annual Recurring Revenue) | [—Ü–µ–ª–µ–≤–æ–µ] | ‚Äî |
| ARPU (Average Revenue Per User) | [—Ü–µ–ª–µ–≤–æ–µ] | ‚Äî |
| LTV (Lifetime Value) | >$500 | ‚Äî |
| LTV:CAC Ratio | >3:1 | ‚Äî |
| Churn Rate (monthly) | <5% | ‚Äî |
| NRR (Net Revenue Retention) | >100% | ‚Äî |
| Upgrade Rate | >10% | ‚Äî |
| Trial-to-Paid Conversion | >40% | ‚Äî |
| Payout Processing Time | <5 –¥–Ω–µ–π | ‚Äî |

### –ê–ª–µ—Ä—Ç—ã

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:**
- Billing system unavailable
- Failed subscription renewals spike (>10%)
- Payout processing failure
- Access control system down
- Database connection lost

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:**
- High churn rate (>7%)
- Low upgrade rate (<5%)
- Failed payment rate increasing (>5%)
- Creator payout delays (>7 –¥–Ω–µ–π)
- Promo code abuse detected
- Quota system slow (>1 sec response)

## Roadmap

### v1.0 (MVP)

- [ ] –ë–∞–∑–æ–≤—ã–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã (Freemium, Basic, Premium)
- [ ] Subscription management (create, renew, cancel)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Payment Gateway (4.8) –¥–ª—è payments
- [ ] Access control –¥–ª—è LMS (course access)
- [ ] One-time purchases (–∫—É—Ä—Å—ã)
- [ ] –ü—Ä–æ—Å—Ç—ã–µ split rules (–∞–≤—Ç–æ—Ä + –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)
- [ ] Monthly payouts –¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π
- [ ] –ü—Ä–æ–º–æ–∫–æ–¥—ã (percentage off)
- [ ] –ë–∞–∑–æ–≤—ã–π dashboard –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Activity Hub (4.6)

### v1.1

- [ ] Advanced split rules (instructor, mentor, curator)
- [ ] Upgrade/downgrade —Å proration
- [ ] Trial periods —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π
- [ ] –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏)
- [ ] Quota management (AI calls, storage)
- [ ] Access control –¥–ª—è –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º (AI OS, Club, Guide)
- [ ] –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (cashback)
- [ ] Bundle pricing (–Ω–∞–±–æ—Ä—ã –∫—É—Ä—Å–æ–≤ —Å–æ —Å–∫–∏–¥–∫–æ–π)
- [ ] Creator dashboard (–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–æ—Ö–æ–¥–æ–≤)
- [ ] Cohort analysis (retention curves)

### v2.0

- [ ] Dynamic pricing (A/B —Ç–µ—Å—Ç—ã, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è)
- [ ] –°–µ–º–µ–π–Ω—ã–µ –ø–ª–∞–Ω—ã (family subscriptions)
- [ ] –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–ª–∞–Ω—ã (enterprise with seats)
- [ ] Flexible billing (pay-as-you-go –¥–ª—è compute)
- [ ] Automated dunning –¥–ª—è failed payments
- [ ] Tax engine (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –Ω–∞–ª–æ–≥–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º)
- [ ] Multi-currency pricing
- [ ] Advanced loyalty program (gamification, badges)
- [ ] Predictive churn model (ML-based)
- [ ] Revenue forecasting (ML-based)
- [ ] Self-service billing portal –¥–ª—è b2b clients

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [[4.1. –°–ø–∏—Å–æ–∫ –ø–æ–¥—Å–∏—Å—Ç–µ–º]] ‚Äî —Ä–µ–µ—Å—Ç—Ä –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º
- [[4.8. –°–∏—Å—Ç–µ–º—ã –ø—Ä–∏–µ–º–∞ –æ–ø–ª–∞—Ç—ã —Ñ–∏–∞—Ç–æ–º]] ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- [[4.10. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∏]] ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ —Ç–æ–∫–µ–Ω–∞—Ö
- [[4.7. CRM]] ‚Äî customer success –∏ retention
- [[4.4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—É—á–µ–Ω–∏—è]] ‚Äî –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å–∞–º
- [[4.2. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ò–ò-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã]] ‚Äî quota management –¥–ª—è AI
- [[4.3. –ö–ª—É–±]] ‚Äî access control –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
- [[4.5. –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É]] ‚Äî –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª–µ—Ä—É
- [[4.11. –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–≤–æ–π–Ω–∏–∫]] ‚Äî subscription tier –∏ purchase history
- [[4.6. –°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (—Ö–∞–± –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π)]] ‚Äî billing events
- [[1.4. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –¥–ª—è –¶–ê]] ‚Äî –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —Å FPF
- [[4.0. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è]] ‚Äî –æ–±–∑–æ—Ä —Ä–∞–∑–¥–µ–ª–∞ –°–∏—Å—Ç–µ–º—ã
- [[0.7. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç–µ–≥–∏]] ‚Äî Frontmatter

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –í–µ—Ä—Å–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| 2025-11-13 | 2.0 | –ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ: subscription management, access control, revenue sharing, loyalty program, FPF –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| [—Ä–∞–Ω–µ–µ] | 1.0 | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π |

---

**Status:** üü° Draft
**Owner:** Finance & Product Team
**Last Updated:** 2025-11-13

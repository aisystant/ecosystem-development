---
title: "Общая архитектура платформы экосистемы"
family: F8
cell: "3.2"
version: v2.0
status: active
date_created: "2025-11-12"
date_modified: "2025-12-18"
related:
  - "Сводный реестр ИИ-компонентов 3.2"
  - "Классификация ИИ-сущностей в экосистеме 3.2"
  - "Концепция ИИ-платформы 3.2"
description: "Общая архитектура платформы экосистемы: полный реестр всех ИТ-систем, ИИ-ассистентов и ИИ-агентов с описанием, модулями и ссылками"
type: doc
layer: architecture
scope: local-edge
---

# Общая архитектура платформы экосистемы

## 0. Назначение документа

Документ содержит **общую архитектуру** ИИ-платформы экосистемы развития — полный реестр всех компонентов с ключевыми характеристиками, модулями реализации и ссылками на детальные описания.

**Назначение:**
- Единая точка входа для понимания архитектуры платформы
- Полный перечень всех ИТ-систем, ИИ-ассистентов и ИИ-агентов
- Карта интеграций между компонентами
- Roadmap развития платформы

**Адресаты:**
- Архитекторы и разработчики
- Продакт-менеджеры и техлиды
- Новые участники команды
- Документалисты

**Связанные документы:**
- [[Сводный реестр ИИ-компонентов 3.2]] — подробный реестр с roadmap
- [[Классификация ИИ-сущностей в экосистеме 3.2]] — классификация и правила
- [[Концепция ИИ-платформы 3.2]] — концепция платформы
- [[Словарь сущностей экосистемы 0.1]] — терминология

---

## 1. Архитектура платформы: 4 уровня

Архитектура платформы организована в **4 уровня** согласно [[Классификация ИИ-сущностей в экосистеме 3.2]]:

```
┌─────────────────────────────────────────────────────────────┐
│  Уровень 1: ИИ-ПЛАТФОРМА                                    │
│  Вся экосистема как единая операционная система             │
└─────────────────────────────────────────────────────────────┘
                          ▼
┌─────────────────────────────────────────────────────────────┐
│  Уровень 2: ИИ-СИСТЕМЫ                                      │
│  Крупные автономные подсистемы с собственной инфраструктурой│
└─────────────────────────────────────────────────────────────┘
                          ▼
       ┌─────────────────────────────────────┐
       │  Уровень 3а: ИИ-АССИСТЕНТЫ          │
       │  Человеко-ориентированные,          │
       │  диалоговые, персонализированные    │
       └─────────────────────────────────────┘
                          ▼
       ┌─────────────────────────────────────┐
       │  Уровень 3б: ИИ-АГЕНТЫ              │
       │  Системно-ориентированные,          │
       │  исполняют конкретные функции       │
       └─────────────────────────────────────┘
```

---

## 2. Уровень 1: ИИ-Платформа

| Компонент | Описание | Модуль | Статус | Документ |
|-----------|----------|--------|--------|----------|
| **ИИ-Платформа** | Операционная система для развития человека; интегрирует все компоненты экосистемы | Kubernetes, Event Bus, MCP | ✅ Активна | [[Концепция ИИ-платформы 3.2]] |

**Ключевые характеристики:**
- Единственная в экосистеме
- Включает все компоненты уровней 2, 3а, 3б
- Обеспечивает связность через единые протоколы (MCP, Event Bus)
- Управляет жизненным циклом всех ИИ-сущностей

---

## 3. Уровень 2: ИИ-Системы (Infrastructure)

### 3.1. Ядро данных

| ИТ-Система | Назначение | Модуль | Статус | Документ |
|------------|------------|--------|--------|----------|
| **Цифровой двойник** | Хранение состояния, траектории, артефактов человека | SurrealDB + MCP-серверы | ✅ В разработке | [[Описание цифрового двойника 3.2]] |
| **Централизованное хранилище** | Общее хранилище данных платформы (Memory Bank) | SurrealDB + Vector Store | ✅ В разработке | [[Централизованное хранилище 3.2]] |
| **Эпистемический граф** | Структура знаний, понятий, связей руководств | Neo4j / SurrealDB | 🔮 Планируется | [[Эпистемический граф 3.2]] |

### 3.2. Обработка событий и токены

| ИТ-Система | Назначение | Модуль | Статус | Документ |
|------------|------------|--------|--------|----------|
| **Хаб активностей** | Сбор и агрегация событий от всех подсистем | Kafka + Flink | ✅ В разработке | [[Хаб активностей 3.2]] |
| **Распределитель токенов** | Начисление и распределение токенов за активности | Rules Engine + PostgreSQL | ✅ В разработке | [[Распределитель токенов 3.2]] |

### 3.3. Аналитика и персонализация

| ИТ-Система | Назначение | Модуль | Статус | Документ |
|------------|------------|--------|--------|----------|
| **Система аналитики** | Обработка метрик, построение инсайтов, отчеты | ClickHouse + Superset | 🔮 Планируется | — |
| **Система персонализации** | Адаптация контента под человека | Python + ML Models | 🔮 Планируется | — |

### 3.4. Инфраструктурные системы

| ИТ-Система | Назначение | Модуль | Статус | Документ |
|------------|------------|--------|--------|----------|
| **Операционная система ИИ-платформы** | Ядро координации, оркестрация компонентов | Kubernetes + Event Bus | ✅ В разработке | [[Операционная система ИИ-платформы 3.2]] |
| **Идентификация и доступ (ORY)** | Единая система аутентификации и авторизации | ORY Kratos + Hydra | ✅ В разработке | [[Идентификация и доступ (ORY) 3.2]] |

### 3.5. Бизнес-системы

| ИТ-Система | Назначение | Модуль | Статус | Документ |
|------------|------------|--------|--------|----------|
| **CRM** | Управление взаимодействием с участниками | HubSpot / Bitrix24 | ✅ В разработке | [[CRM 3.2]] |
| **LMS и обучение** | Платформа дистанционного обучения | Moodle / Custom | ✅ В разработке | [[LMS и обучение 3.2]] |
| **Клуб** | Сообщество практиков, события, нетворкинг | Discourse / Custom | ✅ В разработке | [[Клуб 3.2]] |
| **Управление кейсами** | Проекты, задачи, координация команд | Jira / Linear | ✅ В разработке | [[Управление кейсами 3.2]] |
| **Биллинг и оплата** | Тарификация, подписки, платежи | Stripe + Custom | ✅ В разработке | [[Биллинг и оплата 3.2]] |
| **Системы приёма оплаты** | Приём фиатных платежей | Stripe / Robokassa | ✅ В разработке | [[Системы приёма оплаты 3.2]] |
| **Apps SDK и маркетплейс** | Публикация ИИ-ассистентов через SDK | MCP + Custom SDK | ✅ В разработке | [[Apps SDK и маркетплейс 3.2]] |

**Итого ИТ-систем:** 15 (9 в разработке, 6 планируются)

---

## 4. Уровень 3а: ИИ-Ассистенты (Human-facing)

| ИИ-Ассистент | Роль | Назначение | ИИ-модель | Статус | Документ |
|--------------|------|------------|-----------|--------|----------|
| **Проводник (Ассистент Ученика)** | Ученик | Персональный маршрут развития, ступени Ученика, регулярность | GPT-4o / Claude 3.5 | ✅ В разработке | [[Проводник по персональному маршруту 3.2]] |
| **Ассистент Интеллектуала** | Интеллектуал | Компиляция знаний, построение мировоззрения | GPT-4o / Claude 3.5 | 🔮 Планируется | — |
| **Ассистент Профессионала** | Профессионал | Применение знаний в практике, создание систем | GPT-4o / Claude 3.5 | 🔮 Планируется | — |
| **Ассистент Исследователя** | Исследователь | Научный метод, эксперименты, публикации | GPT-4o / Claude 3.5 | 🔮 Планируется | — |
| **Ассистент Просветителя** | Просветитель | Передача знаний, наставничество, обучение других | GPT-4o / Claude 3.5 | 🔮 Планируется | — |

**Итого ассистентов:** 5 (1 в разработке, 4 планируются)

**Архитектура ассистентов:** ИИ-ассистент работает по модели **"оркестратор + агенты"** — ассистент ведет диалог с человеком, а агенты выполняют конкретные функции (см. [[Классификация ИИ-сущностей в экосистеме 3.2]]).

---

## 5. Уровень 3б: ИИ-Агенты (System-facing)

### 5.1. Группа 1: Ядро выполнения и координации

| ID | Агент | Назначение | Входы | Выходы | Статус |
|----|-------|------------|-------|--------|--------|
| 1 | `AGT.SessionOrchestrator` | Оркестрация сессий, управление цепочками агентов | User request, context | Agent chain execution | ✅ В разработке |
| 2 | `AGT.PolicyGatekeeper` | Проверка прав, согласий, политик доступа | User ID, action, resource | Allow/Deny + audit | ✅ В разработке |
| 3 | `AGT.ToolRouter` | Маршрутизация вызовов инструментов (MCP Hub) | TOOL.* call | Routed call + result | ✅ В разработке |

### 5.2. Группа 2: Сбор фактов (ingestion → Twin)

| ID | Агент | Назначение | Входы | Выходы | Статус |
|----|-------|------------|-------|--------|--------|
| 4 | `AGT.ActivityIngestor` | Сбор событий из систем, запись в Twin | Events from LMS/Club/CRM | E.* records in Twin | ✅ В разработке |
| 5 | `AGT.ArtifactExtractor` | Извлечение артефактов из текстов | User text/response | W.* artifacts in Twin | 🟡 Прототип |
| 6 | `AGT.DataQualitySteward` | Контроль качества данных Twin | Twin records | Quality reports, fixes | 🔮 Планируется |

### 5.3. Группа 3: Обучение и развитие (Twin → план → действие → Twin)

| ID | Агент | Назначение | Входы | Выходы | Статус |
|----|-------|------------|-------|--------|--------|
| 7 | `R.GrowthGuide` + `AGT.RouteGuide` | Формирование персонального маршрута | Twin data, methodology | Route recommendations | ✅ В разработке |
| 8 | `AGT.TrajectoryPlanner` | Планирование траектории обучения | Current level, goals | Ordered concepts/sections | 🟡 Прототип |
| 9 | `AGT.DailyAssignmentBuilder` | Генерация заданий дня | Twin, route, constraints | Daily assignment | 🟡 Прототип |
| 10 | `AGT.ContentPersonalizer` | Персонализация объяснений | Content, user profile | Personalized content | 🔮 Планируется |
| 11 | `R.Evaluator` + `AGT.Evaluator` | Оценка артефактов и ответов | User artifact, criteria | Evaluation + feedback | 🟡 Прототип |
| 12 | `R.Methodist` + `AGT.Methodist` | Улучшение методики на основе аналитики | Analytics, patterns | Methodology improvements | 🔮 Планируется |

### 5.4. Группа 4: Поддержка ритма и взаимодействия

| ID | Агент | Назначение | Входы | Выходы | Статус |
|----|-------|------------|-------|--------|--------|
| 13 | `AGT.RhythmKeeper` | Мониторинг ритма, напоминания | Twin slots, schedule | Reminders, alerts | 🟡 Прототип |
| 14 | `AGT.SupportTriage` | Триаж запросов поддержки | User support request | Classification, routing | 🔮 Планируется |

### 5.5. Группа 5: Аналитика, наблюдаемость, безопасность

| ID | Агент | Назначение | Входы | Выходы | Статус |
|----|-------|------------|-------|--------|--------|
| 15 | `AGT.ProgressAnalyst` | Анализ прогресса, построение инсайтов | Twin data, time series | Progress reports, insights | 🟡 Прототип |
| 16 | `AGT.AnomalyRiskMonitor` | Мониторинг аномалий и рисков | Twin events, patterns | Alerts, risk scores | 🔮 Планируется |
| 17 | `AGT.AuditTrace` | Аудит операций, трассировка | All agent actions | Audit log, traces | ✅ В разработке |

**Итого агентов:** 17 (7 в разработке, 5 в прототипе, 5 планируются)

Детальное описание каждого агента: [[Список ИИ-агентов 3.2]]

---

## 6. Статистика компонентов

### 6.1. По уровням

| Уровень | Количество | В разработке | Прототип | Планируется |
|---------|------------|--------------|----------|-------------|
| **1. ИИ-Платформа** | 1 | 1 | 0 | 0 |
| **2. ИИ-Системы** | 15 | 9 | 0 | 6 |
| **3а. ИИ-Ассистенты** | 5 | 1 | 0 | 4 |
| **3б. ИИ-Агенты** | 17 | 7 | 5 | 5 |
| **ВСЕГО** | **38** | **18** | **5** | **15** |

### 6.2. По функциональным группам систем

| Группа систем | Количество | В разработке | Планируется |
|---------------|------------|--------------|-------------|
| Ядро данных | 3 | 2 | 1 |
| Обработка событий и токены | 2 | 2 | 0 |
| Аналитика и персонализация | 2 | 0 | 2 |
| Инфраструктурные системы | 2 | 2 | 0 |
| Бизнес-системы | 6 | 3 | 3 |

### 6.3. По функциональным группам агентов

| Группа агентов | Количество | В разработке | Прототип | Планируется |
|----------------|------------|--------------|----------|-------------|
| Ядро координации | 3 | 3 | 0 | 0 |
| Сбор фактов | 3 | 1 | 1 | 1 |
| Обучение и развитие | 6 | 1 | 3 | 2 |
| Поддержка ритма | 2 | 0 | 1 | 1 |
| Аналитика и безопасность | 3 | 2 | 0 | 1 |

---

## 7. Интеграционная матрица

### 7.1. Центральные хабы

Ключевые системы, с которыми интегрируется большинство компонентов:

| Система | Роль | Интеграции |
|---------|------|------------|
| **Цифровой двойник** | Профиль участника | Все ИИ-ассистенты, Проводник, Хаб активностей, ORY |
| **Хаб активностей** | Сбор событий | Все бизнес-системы, Распределитель токенов, Аналитика |
| **Централизованное хранилище** | Хранение знаний | ОС ИИ, Все агенты, Эпистемический граф |
| **ОС ИИ-платформы** | Оркестрация | Все агенты, Apps SDK, Memory Bank, ORY |
| **ORY (Идентификация)** | Аутентификация | Все системы экосистемы |

### 7.2. Ключевые цепочки обработки

```
┌─────────────────────────────────────────────────────────────┐
│  ЦЕПОЧКА 1: ОБУЧЕНИЕ                                        │
│  LMS → Хаб активностей → Цифровой двойник → Проводник       │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  ЦЕПОЧКА 2: ПЛАТЕЖИ                                         │
│  CRM → Биллинг → Системы оплаты / Распределитель токенов   │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  ЦЕПОЧКА 3: ТОКЕНОМИКА                                      │
│  Хаб активностей → Распределитель токенов → Цифровой двойник│
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  ЦЕПОЧКА 4: ИИ-ОРКЕСТРАЦИЯ                                  │
│  ОС ИИ → Агенты → MCP Tools → Хранилище → Хаб активностей  │
└─────────────────────────────────────────────────────────────┘
```

---

## 8. Технологический стек

### 8.1. Базовые технологии

| Слой | Технологии |
|------|------------|
| **Инфраструктура** | Kubernetes, Docker, Terraform |
| **Базы данных** | SurrealDB, PostgreSQL, Redis |
| **Обработка событий** | Kafka, Flink, RabbitMQ |
| **Аналитика** | ClickHouse, Superset |
| **ИИ-модели** | GPT-4o, Claude 3.5 Sonnet, Llama 3 |
| **Протоколы** | MCP (Model Context Protocol), REST, GraphQL, gRPC |
| **Идентификация** | ORY Kratos, ORY Hydra, ORY Keto |

### 8.2. Модули по системам

| Система | Выбранный модуль | Альтернативы |
|---------|------------------|--------------|
| **Цифровой двойник** | SurrealDB + MCP | PostgreSQL + TimescaleDB |
| **CRM** | HubSpot / Bitrix24 | Salesforce, Custom |
| **LMS** | Moodle / Custom | Canvas, Open edX |
| **Клуб** | Discourse / Custom | Flarum, Custom |
| **Биллинг** | Stripe + Custom | Chargebee, Recurly |
| **Управление кейсами** | Jira / Linear | Asana, Custom |

---

## 9. Roadmap развития

### Q1 2026: MVP — Проводник для Ученика

**Цель:** работающий Проводник с базовыми функциями

| Компонент | Приоритет | Команда |
|-----------|-----------|---------|
| Цифровой двойник (базовая схема) | P0 | Backend |
| MCP-серверы (Twin, Methodology) | P0 | Backend |
| Проводник (Ассистент Ученика) | P0 | AI/ML |
| AGT.SessionOrchestrator | P0 | Backend |
| AGT.PolicyGatekeeper | P0 | Backend |
| AGT.ToolRouter | P0 | Backend |
| AGT.ActivityIngestor | P0 | Backend |
| AGT.RouteGuide | P0 | AI/ML |
| Интеграция с ChatGPT (Apps SDK) | P1 | Frontend |
| Telegram-бот | P1 | Frontend |

### Q2 2026: Токены и аналитика

**Цель:** механизм токенов + базовая аналитика прогресса

| Компонент | Приоритет | Команда |
|-----------|-----------|---------|
| Хаб активностей | P0 | Backend |
| Распределитель токенов | P0 | Backend |
| AGT.TrajectoryPlanner | P0 | AI/ML |
| AGT.DailyAssignmentBuilder | P0 | AI/ML |
| AGT.Evaluator | P1 | AI/ML |
| AGT.ProgressAnalyst | P1 | Data |
| AGT.RhythmKeeper | P1 | AI/ML |

### Q3-Q4 2026: Расширение и качество

**Цель:** полный набор агентов + высокое качество данных

| Компонент | Приоритет | Команда |
|-----------|-----------|---------|
| AGT.ArtifactExtractor | P0 | AI/ML |
| AGT.DataQualitySteward | P0 | Data |
| AGT.ContentPersonalizer | P1 | AI/ML |
| AGT.SupportTriage | P1 | AI/ML |
| AGT.AnomalyRiskMonitor | P1 | Data |
| AGT.Methodist | P2 | AI/ML |
| Система аналитики | P1 | Data |
| Эпистемический граф | P2 | Backend |

### 2027+: Ассистенты для других ролей

| Компонент | Приоритет | Команда |
|-----------|-----------|---------|
| Ассистент Интеллектуала | P1 | AI/ML |
| Ассистент Профессионала | P1 | AI/ML |
| Ассистент Исследователя | P2 | AI/ML |
| Ассистент Просветителя | P2 | AI/ML |
| Система персонализации | P1 | Data |

---

## 10. Принципы архитектуры

### 10.1. Модульность

- Каждая система решает чётко определённый круг задач
- Системы слабо связаны (loose coupling)
- Взаимодействие через явные API и события
- Независимое масштабирование систем

### 10.2. Единая модель данных

- Сквозные сущности (согласно [[Словарь сущностей экосистемы 0.1]]):
  - `PRS.*` — персоны и цифровые двойники
  - `E.*` — события активных действий
  - `W.*` — рабочие продукты
  - `IND.* / MET.*` — показатели и метрики
  - `STG.*` — ступени развития
  - `QLF.*` — квалификации
  - `C.*` — образовательные сущности

### 10.3. Эволюционность

- Подсистемы развиваются малыми циклами
- Быстрая обратная связь от пользователей
- Continuous deployment
- Feature flags для постепенного раскатывания

### 10.4. Безопасность и приватность

- Single Sign-On через ORY
- Контроль доступа на уровне записей
- Шифрование данных в покое и в транзите
- Audit trail всех операций
- Согласия на обработку данных (GDPR-compliant)

---

## 11. Связанные документы

### Концептуальные

- [[Сводный реестр ИИ-компонентов 3.2]] — подробный реестр с roadmap
- [[Классификация ИИ-сущностей в экосистеме 3.2]] — классификация на 4 уровня
- [[Концепция ИИ-платформы 3.2]] — общее видение платформы
- [[Словарь сущностей экосистемы 0.1]] — терминология

### Системы (детальные описания)

- [[Описание цифрового двойника 3.2]] — Цифровой двойник
- [[Централизованное хранилище 3.2]] — Memory Bank
- [[Хаб активностей 3.2]] — Event Hub
- [[Распределитель токенов 3.2]] — Token Engine
- [[Операционная система ИИ-платформы 3.2]] — ОС ИИ
- [[Идентификация и доступ (ORY) 3.2]] — ORY
- [[CRM 3.2]] — CRM
- [[LMS и обучение 3.2]] — LMS
- [[Клуб 3.2]] — Клуб
- [[Управление кейсами 3.2]] — Case Management
- [[Биллинг и оплата 3.2]] — Billing
- [[Системы приёма оплаты 3.2]] — Payment Systems
- [[Эпистемический граф 3.2]] — Epistemic Graph
- [[Apps SDK и маркетплейс 3.2]] — Apps SDK

### Ассистенты и агенты

- [[Список ИИ-агентов 3.2]] — детальное описание всех агентов
- [[Карта ИИ-ассистентов 3.2]] — описание ассистентов по ролям
- [[Проводник по персональному маршруту 3.2]] — паспорт Проводника

---

## Changelog / История версий

| Дата | Версия | Автор | Изменения |
|------|--------|-------|-----------|
| 2025-12-18 | v2.0 | Claude | Полная переработка на основе "Сводного реестра ИИ-компонентов 3.2": добавлена структура 4 уровней, 38 компонентов (1 платформа, 15 систем, 5 ассистентов, 17 агентов), интеграционная матрица, roadmap |
| 2025-11-12 | v1.1 | — | Версия "Карта подсистем 3.2" с нумерацией 4.1-4.17 |
| 2025-11-11 | v1.0 | — | Первая версия реестра |

---

**Status:** ✅ Active
**Owner:** Architecture Team
**Last Updated:** 2025-12-18

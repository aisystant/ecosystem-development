# Правила демо-режима без идентификации

## Общий принцип

В Release 1 MCP-сервер работает **без идентификации пользователя**. Вместо реального `twin_id` используются фиксированные демо-профили.

---

## Как это работает

### 1. Выбор демо-профиля

При вызове любого инструмента можно передать параметр `demo_profile`:

```json
{
  "name": "get_week_state",
  "arguments": {
    "demo_profile": "good"
  }
}
```

### 2. Доступные профили

| Профиль | twin_id | Описание |
|---------|---------|----------|
| `empty` | `demo_empty` | Пустая неделя — нет активности |
| `weak` | `demo_weak` | Слабая неделя — 1-2 дня, мало времени |
| `good` | `demo_good` | Хорошая неделя — 4+ дней, стабильный слот |

### 3. Профиль по умолчанию

Если `demo_profile` не передан, используется `weak` как наиболее реалистичный сценарий.

---

## Технические детали

### Логика в MCP-сервере

```javascript
function getDemoTwinId(demoProfile) {
  const profiles = {
    'empty': 'demo_empty',
    'weak': 'demo_weak',
    'good': 'demo_good'
  };
  return profiles[demoProfile] || 'demo_weak';
}
```

### Хранение демо-данных

Демо-данные хранятся в цифровом двойнике как обычные записи с `twin_id`:
- `demo_empty`
- `demo_weak`
- `demo_good`

Эти записи создаются один раз и не меняются (кроме обновлений для тестирования).

---

## Ограничения демо-режима

| Функция | Доступно в демо? |
|---------|------------------|
| Чтение данных недели | ✅ Да |
| Рекомендации ассистента | ✅ Да |
| Запись данных | ❌ Нет |
| Планировщик недели | ❌ Нет (Release 2) |
| Персональные данные | ❌ Нет (Release 2) |

---

## Переход к Release 2

В Release 2:
1. Добавляется OAuth-авторизация
2. `twin_id` определяется по токену пользователя
3. Демо-режим остаётся для тестирования, но не используется в production

---

**Последнее обновление:** 2025-12-23

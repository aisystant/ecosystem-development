---
title: Описание ИИ-ассистента Генератор персонального руководства
family: F8
cell: '3.2'
version: v1.0
status: active
date_created: '2025-12-20'
date_modified: '2025-12-20'
related:
- Описание цифрового двойника 3.2
- MCP-серверы для руководств 3.2
- Описание ИИ-ассистента Проводник (Ассистент Ученика) 3.2
- Модель данных цифрового двойника 3.2
- MCP-сервер цифрового двойника 3.2
description: 'Описание ИИ-ассистента Генератор персонального руководства: назначение, архитектура, режимы работы, интеграция с цифровым двойником'
type: doc
layer: architecture
scope: local-edge
aliases:
- S.PersonalGuideGenerator
- Генератор руководства
- PersonalGuide Generator
---

# Описание ИИ-ассистента Генератор персонального руководства 3.2

## Цель и назначение

**Обозначение системы:** `S.PersonalGuideGenerator`

**Тип:** ИИ-ассистент (ai_role: core)

**Краткое описание:** Генератор персонального руководства — это ИИ-ассистент, который на основе универсальных руководств и данных цифрового двойника генерирует персонализированный контент для ежедневных заданий. Он обеспечивает адаптацию учебных материалов под конкретного человека: его сферу деятельности, уровень подготовки, стиль обучения и текущие цели.

**Основные функции:**
- Генерация персонализированных примеров и аналогий из сферы деятельности ученика
- Адаптация сложности изложения под текущий уровень мастерства
- Подбор релевантных дополнений к универсальному руководству
- Формирование контекстных пакетов для персонализации заданий

---

## 1. Контекст и архитектура

### 1.1. Место в экосистеме

Генератор работает в связке с:
- **Цифровым двойником** — получает данные о профиле, прогрессе, состоянии ученика
- **Универсальными руководствами** (Git-репозиторий) — использует как базу для персонализации
- **Проводником** (R.GrowthGuide) — передаёт персонализированный контент для финального рендеринга
- **MCP-серверами** — через них получает доступ к данным и руководствам

### 1.2. Связь с персональным заданием

Концепция работы описана в [[Описание цифрового двойника 3.2#2.3. Персональное задание и Генератор руководства]].

**Персональное задание** (`W.RouteGuide.DailyAssignment`) — основной артефакт, который получает ученик. Оно включает:
- Учебные цели на день
- Секции руководства для изучения
- Практические задания
- Критерии успеха

Генератор обогащает задание персонализированным контентом.

### 1.3. Режимы работы

| Режим | Описание | Когда используется |
|-------|----------|-------------------|
| **Универсальное руководство** | Берётся текст из универсального руководства без изменений | MVP, начальные ступени |
| **Универсальное + дополнения** | Универсальный текст + персональные примеры/аналогии от Генератора | Текущий целевой режим |
| **Полностью персонализированное** | Генератор создаёт весь текст на основе структуры руководства и данных ЦД | Будущее развитие |

---

## 2. Входные данные

### 2.1. Из цифрового двойника (через MCP Twin)

| Данные | Назначение |
|--------|------------|
| `twin.get_profile(user_id)` | Сфера деятельности, стиль, уровень, цели |
| `twin.get_state(user_id, date)` | Текущий режим, доступное время, ограничения |
| `learning.get_mastery(user_id, guide_id)` | Уровень освоения по концептам/разделам |
| `twin.get_activity(user_id, range)` | История выполненных заданий |

### 2.2. Из универсальных руководств (через GuideRepo MCP)

| Данные | Назначение |
|--------|------------|
| `guides.get_section(guide_id, section_id)` | Текст секции для персонализации |
| `guides.get_concept_graph(guide_id)` | Граф концептов и пререквизитов |
| `guides.search_semantic(query, guide_id)` | Поиск релевантных чанков |

---

## 3. Выходные данные

### 3.1. Пакет персонализации

```json
{
  "personalization_pack": {
    "domain": "ИТ / разработка ПО",
    "style": "практичный, с примерами кода",
    "level": "intermediate",
    "preferred_formats": ["код", "диаграммы"],
    "forbidden_examples": ["медицина", "юриспруденция"],
    "custom_terminology": {
      "система": "программный продукт",
      "роль": "функция в команде"
    }
  }
}
```

### 3.2. Персонализированные дополнения

- **Примеры:** конкретные случаи из сферы деятельности ученика
- **Аналогии:** объяснения через знакомые ученику концепции
- **Задания:** практики, адаптированные под контекст работы
- **Терминология:** перевод абстрактных понятий на язык предметной области

---

## 4. Интеграция с другими компонентами

### 4.1. Взаимодействие с Проводником

```
Проводник (R.GrowthGuide)
    ↓ запрашивает контент для задания
S.PersonalGuideGenerator
    ↓ получает данные
MCP Twin + GuideRepo MCP
    ↓ формирует
Пакет персонализации + Дополнения
    ↓ возвращает
Проводник рендерит финальный текст для ученика
```

### 4.2. MCP-функции (PersonalGuide MCP)

Подробное описание функций см. в [[MCP-серверы для руководств 3.2#6) Персональные руководства: функции MCP]].

Ключевые tools:
- `personalization.get_pack(user_id)` — получение пакета персонализации
- `content.get_context_chunks(guide_id, section_ids, top_k)` — релевантные чанки
- `assignment.build_daily(user_id, guide_id, date, constraints)` — формирование задания

---

## 5. Технологии

| Компонент | Технология |
|-----------|------------|
| LLM | GPT-4o / Claude 3.5 |
| Протокол интеграции | MCP (Model Context Protocol) |
| Хранилище данных | SurrealDB (через MCP Twin) |
| Источник руководств | Git-репозиторий (через GuideRepo MCP) |

---

## 6. Границы ответственности

**Что Генератор делает:**
- Формирует пакеты персонализации на основе данных ЦД
- Генерирует примеры и аналогии из сферы деятельности ученика
- Адаптирует сложность изложения
- Подбирает релевантные дополнения к универсальному руководству

**Что Генератор НЕ делает:**
- Не решает, какие темы изучать (это делает Проводник / TrajectoryPlanner)
- Не оценивает выполнение заданий (это делает AGT.Evaluator)
- Не хранит данные (использует MCP для доступа)
- Не взаимодействует напрямую с учеником (только через Проводника)

---

## Связанные документы

- [[Описание цифрового двойника 3.2]] — контекст персонального задания
- [[MCP-серверы для руководств 3.2]] — архитектура MCP-серверов
- [[Описание ИИ-ассистента Проводник (Ассистент Ученика) 3.2]] — основной потребитель Генератора
- [[Карта ИИ-ассистентов 3.2]] — реестр всех ИИ-ассистентов
- [[Карта ИТ-систем 3.2]] — общий реестр систем

---

## Changelog / История версий

| Дата | Версия | Автор | Изменения |
|------|--------|-------|-----------|
| 2025-12-20 | v1.0 | — | Создан документ, выделен из описания Цифрового двойника как отдельный ИИ-ассистент |

---

type: doc
audience: mixed
edit_mode: manual
layer: service
scope: external
security: internal
status: draft
version: 0.1
created: 2025-12-21
---

# Интеграция с LLM Apps SDK: Единый интерфейс входа в экосистему

Использование Apps SDK от производителей LLM (OpenAI, Anthropic, Google) как универсального интерфейса для взаимодействия участников с ИИ-платформой экосистемы развития интеллекта.

## Стратегическое видение

### Проблема

Участники экосистемы используют разные ИИ-интерфейсы для взаимодействия:
- ChatGPT (OpenAI)
- Claude (Anthropic)
- Gemini (Google)
- Локальные модели

Каждый участник уже имеет привычный интерфейс. Заставлять всех переходить на собственную платформу — создавать лишний барьер входа.

### Решение

**Использовать LLM Apps SDK как "розетки" для подключения к экосистеме** — участник работает в привычном ChatGPT/Claude/Gemini, но получает полный доступ к функционалу экосистемы развития.

```
┌─────────────────────────────────────────────────────────────────┐
│                    УЧАСТНИК ЭКОСИСТЕМЫ                          │
│                 (использует привычный LLM)                      │
└─────────────────────────────────────────────────────────────────┘
                              │
           ┌──────────────────┼──────────────────┐
           │                  │                  │
           ▼                  ▼                  ▼
    ┌──────────────┐   ┌──────────────┐   ┌──────────────┐
    │   ChatGPT    │   │    Claude    │   │   Gemini     │
    │  (OpenAI     │   │  (Anthropic  │   │  (Google     │
    │  Apps SDK)   │   │     MCP)     │   │ Extensions)  │
    └──────────────┘   └──────────────┘   └──────────────┘
           │                  │                  │
           └──────────────────┼──────────────────┘
                              │
                    ┌─────────▼─────────┐
                    │   MCP GATEWAY     │
                    │   (единый слой)   │
                    └─────────┬─────────┘
                              │
    ┌─────────────────────────┼─────────────────────────┐
    │              ЭКОСИСТЕМА РАЗВИТИЯ                   │
    │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐  │
    │  │ Digital │ │ Memory  │ │  Token  │ │   LMS   │  │
    │  │  Twin   │ │  Bank   │ │ Economy │ │         │  │
    │  └─────────┘ └─────────┘ └─────────┘ └─────────┘  │
    └───────────────────────────────────────────────────┘
```

---

## Общий интерфейс: что меняется

### Как сейчас (фактический режим)

Несколько независимых "входов" для участника:
- **LMS/ЛК** — обучение и формальные элементы прохождения
- **Клуб (форум)** — обсуждения, публикации, социальная активность
- **Telegram** — коммуникации, быстрые взаимодействия, иногда задания/напоминания
- **Другие поверхности** — ссылки, документы, репозитории, сторонние инструменты

**Проблема не в количестве входов**, а в том, что они:

| Проблема | Следствие |
|----------|-----------|
| Нет единого контекста | Непонятно кто пользователь как участник экосистемы, его ступень/статус, ритм, подтверждённый вклад |
| Нет единого реестра действий | Часть в LMS, часть в клубе, часть в голове/заметках |
| Нет общего "слоя поддержки" | Боты не встроены в единый контракт данных — выводы трудно верифицировать и масштабировать |
| Нет общего "слоя экономики" | Верификация → реестр начислений → кошелёк — обычно отдельная подсистема с ручными правилами |

### Как будет в модели "Общего интерфейса"

Apps SDK внутри ChatGPT — один из вариантов наряду с другими LLM-хостами и собственным веб-интерфейсом. Меняется архитектура входа:

#### 1. Один "канонический вход" для сценариев

Пользователь заходит не "в LMS" или "в клуб", а в **единый сценарный вход**:
- "сегодня"
- "неделя"
- "руководства"
- "вклад"
- "токены"
- "профиль/epistemic status"

**LMS/клуб/Telegram при этом не исчезают** — они становятся:
- источниками событий/артефактов
- каналами коммуникации
- специализированными рабочими поверхностями

А не "главным местом, где живёт логика развития".

#### 2. Единый контекст участника в момент взаимодействия

Когда участник открывает общий интерфейс, система поднимает контекст:
- кто он (роль/статус в экосистеме)
- где он на траектории
- какие у него подтверждённые действия и ритм
- какие руководства/методы релевантны
- какие незавершённые claims/ревью/начисления

**Это делает поддержку "инженерной":** рекомендация завязана на наблюдаемые данные и методику, а не на абстрактный диалог.

#### 3. Единый контракт доступа к данным и инструментам (через MCP)

Чтобы общий интерфейс работал не как "ещё один фронт", а как часть платформы, на стороне экосистемы нужен минимум:

1. **Авторизация** — идентификация участника + права доступа к данным, включая согласия на использование источников

2. **MCP-сервер(а)**, который экспонирует:
   - **tools** — действия и вычисления: агрегаты времени, запись действия, создание claim, запрос ledger и т.п.
   - **resources** — каталоги руководств, определения метрик, списки артефактов, публичные профили и т.п.

Это механизм, благодаря которому один и тот же общий интерфейс может работать:
- в Apps SDK внутри ChatGPT
- в других LLM-хостах
- в собственном интерфейсе (если нужно)

#### 4. Сквозной "учёт действий" как основа и поддержки, и экономики

Вместо "прошёл урок / написал пост / отметил в телеге" — единая логика:

```
Действие (наблюдаемое)
    ↓
Запись в Цифровой двойник
    ↓
Доказательство/артефакт → привязка к действию
    ↓
Верификация (авто/ревью) → статус подтверждения
    ↓
Начисление токенов → запись в реестр (ledger) → выплата/клейм
    ↓
Epistemic status → публичная проекция подтверждённых артефактов/систем/активности
```

**Общий интерфейс становится "панелью управления"** траекторией, вкладом и репутацией.

### Компактное резюме различий

| Сейчас | В общем интерфейсе |
|--------|-------------------|
| Пользователь "живёт" в разрозненных продуктах (LMS/форум/Telegram) | Пользователь "живёт" в сценариях развития |
| "Развитие" — ручная склейка опыта | LMS/клуб/Telegram — источники и рабочие поверхности |
| Логика в каждом продукте отдельно | Единый слой авторизации и MCP-контрактов |

---

### Почему MCP — универсальный протокол

**Model Context Protocol (MCP)** стал стандартом индустрии:
- **OpenAI Apps SDK** построен на MCP
- **Anthropic Claude** — создатель и главный драйвер MCP
- **Google Gemini** — объявил поддержку MCP в 2025
- **Linux Foundation** — MCP передан в Agentic AI Foundation (декабрь 2025)

Экосистема может создать **один MCP-сервер**, который будет работать через все три платформы.

---

## Ландшафт LLM Apps SDK (2025)

### 1. OpenAI Apps SDK

**Статус:** Beta, submissions открыты (октябрь 2025)

**Архитектура:**
- **MCP Server** — определяет tools (возможности) для ChatGPT
- **Web Widget** — iframe-компонент для UI в ChatGPT
- **OAuth 2.1** — аутентификация пользователей

**Ключевые возможности:**
- Tools — действия, которые выполняет приложение
- Templates — шаблоны ответов
- Widget Runtime — рендеринг UI в ChatGPT

**Публикация:** Через OpenAI Developer Platform, модерация и review

### 2. Anthropic MCP + Integrations

**Статус:** Production, MCP Connector в API

**Архитектура:**
- **Remote MCP Servers** — сторонние сервера с инструментами
- **MCP Connector API** — автоматическое подключение к серверам
- **Pre-built Integrations** — Jira, Confluence, GitHub, Slack и др.

**Ключевые возможности:**
- Стандартный протокол для любых интеграций
- Обработка OAuth, tool discovery, error handling на стороне Anthropic
- Marketplace интеграций в Claude

### 3. Google Gemini Extensions + Interactions API

**Статус:** Production (CLI Extensions), Beta (Interactions API)

**Архитектура:**
- **CLI Extensions** — playbooks для интеграции с внешними инструментами
- **Interactions API** — единый REST endpoint для моделей и агентов
- **Connected Apps** — интеграции с Google-сервисами

**Ключевые возможности:**
- MCP-совместимые extensions
- Поддержка Figma, Shopify, Stripe, Postman и др.
- Custom agents через Interactions API

---

## Сценарии использования для экосистемы

Каждый сценарий описывает типичную задачу участника и показывает, как общий интерфейс её решает. Для каждого сценария приведены: описание проблемы, пример диалога, UI-элементы Apps SDK и MCP-инструменты.

---

### Сценарий 1: Изучение руководств и материалов

**Описание сценария:**
Участник хочет разобраться в методологии экосистемы — найти нужный раздел, получить объяснение концепции, увидеть связанные материалы. Это базовый сценарий "обучения через диалог", где LLM работает как интеллектуальный проводник по базе знаний, а не просто поисковик.

**Ключевая ценность:** Контекстное объяснение с учётом уровня участника, связывание понятий, переход к практике.

**Пользователь:** Любой участник экосистемы

**Интерфейс:** ChatGPT / Claude / Gemini

**Диалог:**
```
Участник: @Aisystant, объясни холонический принцип из FPF

Ассистент: [Подключается к Memory Bank через MCP]

📖 Холонический принцип (FPF Part A.1)

Холон — это нечто, что одновременно является:
• Целым (автономная единица)
• Частью большей системы

┌──────────────────────────────────────────┐
│     Организация                          │
│  ┌────────────────────────────────────┐  │
│  │   Отдел                            │  │
│  │  ┌──────────────────────────────┐  │  │
│  │  │   Команда                    │  │  │
│  │  │  ┌────────────────────────┐  │  │  │
│  │  │  │  Человек (созидатель)  │  │  │  │
│  │  │  └────────────────────────┘  │  │  │
│  │  └──────────────────────────────┘  │  │
│  └────────────────────────────────────┘  │
└──────────────────────────────────────────┘

Каждый уровень — холон: целый для нижних уровней
и часть для верхних.

📚 Связанные материалы:
• Bounded Context (A.1.1) — значение локально
• Strict Distinction (A.7) — роль ≠ метод ≠ работа

🎯 Практика:
Попробуй описать свою команду как холон. Что делает
её целой? Частью чего она является?
```

**UI-элементы Apps SDK:**

| Элемент | Тип | Описание |
|---------|-----|----------|
| Карточка концепции | Widget (iframe) | Интерактивная карточка с определением, диаграммой холархии, ссылками на источник в FPF |
| Навигация по связям | Template buttons | `[← Предыдущий принцип]` `[Следующий принцип →]` `[Все принципы]` |
| Переход к практике | Action button | `[Начать практику]` — открывает виджет с заданием |
| Breadcrumb | Text template | `FPF > Part A > A.1 Holonic Principle` — показывает место в структуре |

**Варианты оформления Widget:**
```
┌─────────────────────────────────────────────────┐
│ 📖 ХОЛОНИЧЕСКИЙ ПРИНЦИП                         │
│ FPF Part A.1                                    │
├─────────────────────────────────────────────────┤
│                                                 │
│  [Интерактивная диаграмма холархии]             │
│  (кликабельные уровни с пояснениями)            │
│                                                 │
├─────────────────────────────────────────────────┤
│ 📚 Связанные концепции:                         │
│ • Bounded Context    • Strict Distinction       │
├─────────────────────────────────────────────────┤
│ [Открыть в LMS]  [Начать практику]  [Закладка]  │
└─────────────────────────────────────────────────┘
```

**MCP Tools:**
```json
{
  "tools": [
    {
      "name": "search_knowledge",
      "description": "Поиск в базе знаний экосистемы",
      "parameters": {
        "query": "string",
        "source": "string (fpf, courses, community)",
        "user_level": "string (для адаптации сложности)"
      }
    },
    {
      "name": "get_fpf_section",
      "description": "Получить раздел FPF спецификации",
      "parameters": {
        "section_id": "string",
        "include_examples": "boolean",
        "include_diagram": "boolean"
      }
    },
    {
      "name": "get_related_materials",
      "description": "Связанные материалы по теме",
      "parameters": {
        "topic": "string",
        "limit": "integer"
      }
    },
    {
      "name": "start_practice",
      "description": "Начать практическое задание по теме",
      "parameters": {
        "practice_id": "string",
        "user_id": "string"
      }
    }
  ]
}
```

---

### Сценарий 2: Персональная траектория развития

**Описание сценария:**
Участник открывает интерфейс, чтобы понять: "где я сейчас?" и "что делать дальше?". Система показывает его текущий статус на траектории, прогресс, ближайшие шаги и персонализированную рекомендацию с учётом доступного времени и приоритетов.

**Ключевая ценность:** Один экран вместо блуждания по LMS — чёткое понимание следующего шага.

**Пользователь:** Ученик на начальном этапе

**Интерфейс:** ChatGPT / Claude / Gemini

**Диалог:**
```
Участник: @Aisystant, покажи мою траекторию развития

Ассистент: [Подключается к Digital Twin через MCP]

📊 Твоя траектория развития:

🎯 Текущий уровень: Ученик (EQF 1)
📈 Прогресс: 23% к уровню Интеллектуал

Следующие шаги:
1. [Завершить] Урок 3.2: Системное мышление (осталось 40 мин)
2. [Практика] Построить модель целей по шаблону
3. [Рефлексия] Еженедельный ревью (воскресенье)

💡 Рекомендация на сегодня:
Пройди урок 3.2 — он критически важен для понимания
следующих тем. Estimated time: 40 минут.

```

**UI-элементы Apps SDK:**

| Элемент | Тип | Описание |
|---------|-----|----------|
| Прогресс-бар | Widget (iframe) | Визуальный индикатор прогресса с этапами траектории |
| Карточка уровня | Widget card | Текущий уровень, срок действия, коэффициент STK |
| Список шагов | Template list | Чеклист ближайших действий с приоритетами |
| Рекомендация дня | Highlighted block | Персонализированный совет на основе контекста |
| Действия | Action buttons | `[Начать урок]` `[Изменить план]` `[Показать календарь]` |

**Варианты оформления Widget:**
```
┌─────────────────────────────────────────────────┐
│ 📊 ТРАЕКТОРИЯ РАЗВИТИЯ              @username   │
├─────────────────────────────────────────────────┤
│                                                 │
│  Ученик ────●─────────────── Интеллектуал       │
│            23%                                  │
│                                                 │
├─────────────────────────────────────────────────┤
│ ☐ Урок 3.2: Системное мышление      40 мин     │
│ ☐ Практика: Модель целей            30 мин     │
│ ☐ Еженедельный ревью                вс         │
├─────────────────────────────────────────────────┤
│ 💡 Рекомендация: Урок 3.2 — критически важен   │
├─────────────────────────────────────────────────┤
│ [▶ Начать урок]   [📅 Календарь]   [✏ План]    │
└─────────────────────────────────────────────────┘
```

**MCP Tools:**
```json
{
  "tools": [
    {
      "name": "get_learning_trajectory",
      "description": "Получить персональную траекторию развития участника",
      "parameters": {
        "user_id": "string",
        "include_recommendations": "boolean"
      }
    },
    {
      "name": "get_next_best_action",
      "description": "Рекомендация следующего действия с учётом контекста",
      "parameters": {
        "user_id": "string",
        "context": "string (time_available, energy_level, priorities)"
      }
    },
    {
      "name": "start_learning_session",
      "description": "Начать сессию обучения",
      "parameters": {
        "lesson_id": "string",
        "estimated_duration": "integer"
      }
    },
    {
      "name": "update_learning_plan",
      "description": "Изменить план обучения",
      "parameters": {
        "user_id": "string",
        "changes": "object"
      }
    }
  ]
}
```

---

### Сценарий 3: Эпистемологический статус и публикации

**Описание сценария:**
Профессионал хочет увидеть свой "публичный профиль знаний" — что он подтвердил, какие системы создал, как его воспринимают в экосистеме. Это не просто CV, а верифицированный epistemic status: публикации с peer-review, системы в production, активность как ментора.

**Ключевая ценность:** Объективная картина репутации, основанная на подтверждённых действиях, а не на самопрезентации.

**Пользователь:** Профессионал, строящий репутацию

**Интерфейс:** ChatGPT / Claude / Gemini

**Диалог:**
```
Участник: @Aisystant, покажи мой эпистемический профиль

Ассистент: [Подключается к Epistemic Graph через MCP]

🎓 Эпистемический профиль: @username

┌─────────────────────────────────────────────────────┐
│  Квалификация: Профессионал (EQF 4)                │
│  Срок действия: до 2027-03-15                       │
│  Коэффициент STK: ×1.8                              │
└─────────────────────────────────────────────────────┘

📚 Публикации (5):
• "Системный подход к архитектуре" — peer-reviewed ✓
• "Холонические модели в практике" — verified 10+ uses
• "Методология ADI-цикла" — production use

🔨 Создаваемые системы (3):
• Project Alpha — в разработке (60%)
• Training Platform v2 — production
• MCP Integration — MVP

🌐 Активность в экосистеме:
• Менторство: 12 сессий (средний рейтинг 4.8)
• Ответы в сообществе: 47 (23 отмечены полезными)
• Курирование учеников: 3 активных

📈 Репутационный индекс: 847 / 1000
```

**UI-элементы Apps SDK:**

| Элемент | Тип | Описание |
|---------|-----|----------|
| Профиль-карточка | Widget (iframe) | Аватар, уровень, срок, коэффициент — как "удостоверение" |
| Список публикаций | Expandable list | Каждая публикация кликабельна, показывает статус верификации |
| Граф систем | Interactive widget | Визуализация создаваемых систем и их статусов |
| Метрики активности | Stats cards | Менторство, ответы, курирование — числа с трендами |
| Репутационный индекс | Progress ring | Круговой индикатор 847/1000 с breakdown по категориям |
| Действия | Action buttons | `[Обновить профиль]` `[Добавить публикацию]` `[Запросить повышение]` |

**Варианты оформления Widget:**
```
┌─────────────────────────────────────────────────┐
│ 🎓 ЭПИСТЕМИЧЕСКИЙ ПРОФИЛЬ                       │
│ ┌──────┐                                        │
│ │ [AV] │  @username                             │
│ │      │  Профессионал (EQF 4) · до 2027-03     │
│ └──────┘  Коэффициент STK: ×1.8                 │
├─────────────────────────────────────────────────┤
│ 📚 Публикации          🔨 Системы    📈 Индекс  │
│     5 verified             3 active      847    │
├─────────────────────────────────────────────────┤
│ 🌐 Менторство: 12 (4.8★) · Ответы: 47 (23 ✓)   │
├─────────────────────────────────────────────────┤
│ [+ Публикация]  [Редактировать]  [Поделиться]   │
└─────────────────────────────────────────────────┘
```

**MCP Tools:**
```json
{
  "tools": [
    {
      "name": "get_epistemic_profile",
      "description": "Полный эпистемический профиль участника",
      "parameters": {
        "user_id": "string",
        "include_private": "boolean"
      }
    },
    {
      "name": "list_publications",
      "description": "Список публикаций и их статус верификации",
      "parameters": {
        "user_id": "string",
        "status_filter": "string (all, verified, peer_reviewed)"
      }
    },
    {
      "name": "list_created_systems",
      "description": "Системы, создаваемые участником",
      "parameters": {
        "user_id": "string"
      }
    },
    {
      "name": "get_reputation_breakdown",
      "description": "Детализация репутационного индекса по категориям",
      "parameters": {
        "user_id": "string"
      }
    },
    {
      "name": "submit_publication",
      "description": "Добавить публикацию для верификации",
      "parameters": {
        "user_id": "string",
        "title": "string",
        "url": "string",
        "type": "string (article, code, system)"
      }
    }
  ]
}
```

---

### Сценарий 4: Привлечение новых участников (реферальная система)

**Описание сценария:**
Участник хочет пригласить коллегу в экосистему. Система предоставляет персональную реферальную ссылку, показывает статистику приглашений и помогает создать контент для приглашения — пост в LinkedIn, сообщение в Telegram, QR-код для оффлайн-мероприятий.

**Ключевая ценность:** Рост экосистемы через участников, которые получают за это токены и статус.

**Пользователь:** Активный участник, развивающий экосистему

**Интерфейс:** ChatGPT / Claude / Gemini

**Диалог:**
```
Участник: @Aisystant, как мне пригласить коллегу в экосистему?

Ассистент: [Подключается к Referral + Onboarding через MCP]

🎁 Реферальная программа

Твоя персональная ссылка:
https://aisystant.com/join/ref-8xK2f9D3

При регистрации по ссылке:
• Новый участник получает: +100 STK бонус
• Ты получаешь: +50 STK за каждого

📊 Твоя статистика приглашений:
• Приглашено: 7 человек
• Активных: 4 человека
• Заработано: 350 STK

💡 Совет: Наибольшая конверсия — когда ты делишься
конкретным полезным материалом + ссылкой.

Хочешь, сгенерирую пост для LinkedIn с описанием
твоего опыта в экосистеме?
```

**UI-элементы Apps SDK:**

| Элемент | Тип | Описание |
|---------|-----|----------|
| Реферальная ссылка | Copy-to-clipboard field | Кликабельное поле с кнопкой копирования |
| QR-код | Widget image | Сгенерированный QR для офлайн-мероприятий |
| Статистика | Stats cards | Приглашено / Активных / Заработано STK |
| Генератор контента | Form widget | Выбор платформы (LinkedIn/Telegram/Twitter), стиля, preview |
| Действия | Action buttons | `[Создать пост]` `[Скопировать ссылку]` `[QR-код]` |

**Варианты оформления Widget:**
```
┌─────────────────────────────────────────────────┐
│ 🎁 РЕФЕРАЛЬНАЯ ПРОГРАММА                        │
├─────────────────────────────────────────────────┤
│ Твоя ссылка:                                    │
│ ┌─────────────────────────────────────┐ [Copy]  │
│ │ aisystant.com/join/ref-8xK2f9D3     │         │
│ └─────────────────────────────────────┘         │
├─────────────────────────────────────────────────┤
│ 📊 Статистика          ┌──────┐                 │
│ Приглашено: 7          │ [QR] │                 │
│ Активных: 4            │      │                 │
│ Заработано: 350 STK    └──────┘                 │
├─────────────────────────────────────────────────┤
│ 📝 Создать приглашение для:                     │
│ [LinkedIn]  [Telegram]  [Twitter]  [Email]      │
└─────────────────────────────────────────────────┘
```

**MCP Tools:**
```json
{
  "tools": [
    {
      "name": "get_referral_link",
      "description": "Получить персональную реферальную ссылку",
      "parameters": {
        "user_id": "string",
        "campaign": "string (optional)"
      }
    },
    {
      "name": "get_referral_stats",
      "description": "Статистика приглашений и конверсии",
      "parameters": {
        "user_id": "string",
        "period": "string (week, month, all)"
      }
    },
    {
      "name": "generate_invitation_content",
      "description": "Сгенерировать контент для приглашения",
      "parameters": {
        "user_id": "string",
        "platform": "string (linkedin, telegram, twitter, email)",
        "style": "string (professional, casual)",
        "include_personal_story": "boolean"
      }
    },
    {
      "name": "generate_qr_code",
      "description": "Сгенерировать QR-код для реферальной ссылки",
      "parameters": {
        "user_id": "string",
        "size": "string (small, medium, large)"
      }
    }
  ]
}
```

---

### Сценарий 5: Токен-экономика и Solana

**Описание сценария:**
Участник хочет понять свою "экономику участия": сколько токенов заработано, за что, какой текущий баланс, как работает его Solana-кошелёк. Это сценарий прозрачности — участник видит, что его вклад измеряется и вознаграждается по понятным правилам.

**Ключевая ценность:** Прозрачная экономика с верифицируемыми начислениями на блокчейне.

**Пользователь:** Активный участник экосистемы

**Интерфейс:** ChatGPT / Claude / Gemini

**Диалог:**
```
Участник: @Aisystant, сколько токенов я заработал на этой неделе?

Ассистент: [Подключается к Token Economy + Solana через MCP]

💰 Твой баланс STK:

┌─────────────────────────────────────────┐
│  Текущий баланс: 4,250 STK             │
│  Эта неделя:     +1,584 STK            │
│  Кошелёк Solana: 8xK2...9fD3           │
└─────────────────────────────────────────┘

📊 Разбивка недели:
• Чтение разделов (5): 250 баллов
• Выполнение заданий (3): 300 баллов
• Пост в сообществе (1): 200 баллов
• Лайки полученные (10): 200 баллов
• Бонус систематичности (4 недели): ×1.10

Твой коэффициент квалификации: ×1.5 (Практик)
```

**UI-элементы Apps SDK:**

| Элемент | Тип | Описание |
|---------|-----|----------|
| Баланс-карточка | Widget (iframe) | Крупный баланс, изменение за период, адрес кошелька |
| Разбивка начислений | Expandable list | Каждая категория кликабельна для деталей |
| График истории | Chart widget | Линейный график баланса за последние недели/месяцы |
| Коэффициенты | Info cards | Систематичность, квалификация — с объяснением |
| Действия | Action buttons | `[Открыть в Solana Explorer]` `[История транзакций]` `[Перевести токены]` |

**Варианты оформления Widget:**
```
┌─────────────────────────────────────────────────┐
│ 💰 БАЛАНС STK                                   │
│                                                 │
│      4,250 STK                                  │
│      ▲ +1,584 на этой неделе                   │
│                                                 │
│ Кошелёк: 8xK2...9fD3  [Solana Explorer]         │
├─────────────────────────────────────────────────┤
│ 📊 Разбивка недели:                             │
│ ├─ Чтение (5)         250 ████░░░░░░            │
│ ├─ Задания (3)        300 █████░░░░░            │
│ ├─ Пост (1)           200 ███░░░░░░░            │
│ └─ Лайки (10)         200 ███░░░░░░░            │
│                                                 │
│ × Систематичность: 1.10 · Квалификация: 1.5     │
├─────────────────────────────────────────────────┤
│ [История]  [Перевести]  [Вывести]               │
└─────────────────────────────────────────────────┘
```

**MCP Tools:**
```json
{
  "tools": [
    {
      "name": "get_token_balance",
      "description": "Получить баланс STK токенов",
      "parameters": {
        "user_id": "string",
        "include_history": "boolean"
      }
    },
    {
      "name": "get_weekly_rewards",
      "description": "Детализация начислений за неделю по категориям",
      "parameters": {
        "user_id": "string",
        "week_offset": "integer"
      }
    },
    {
      "name": "get_solana_wallet",
      "description": "Информация о кошельке Solana",
      "parameters": {
        "user_id": "string"
      }
    },
    {
      "name": "get_multipliers",
      "description": "Текущие коэффициенты участника",
      "parameters": {
        "user_id": "string"
      }
    },
    {
      "name": "transfer_tokens",
      "description": "Перевод токенов другому участнику",
      "parameters": {
        "from_user_id": "string",
        "to_user_id": "string",
        "amount": "integer",
        "reason": "string"
      }
    }
  ]
}
```

---

### Сценарий 6: Активные действия с начислением токенов

**Описание сценария:**
Участник выполнил задание и отправляет его на проверку. Система принимает артефакт, запускает автоматическую и/или peer-проверку, начисляет токены и возвращает feedback. Это замкнутый цикл: действие → верификация → начисление → обратная связь.

**Ключевая ценность:** Мгновенная обратная связь и прозрачное начисление за каждое подтверждённое действие.

**Пользователь:** Участник, выполняющий задание

**Интерфейс:** ChatGPT / Claude / Gemini

**Диалог:**
```
Участник: @Aisystant, отправляю выполненное задание по системному мышлению

Ассистент: [Подключается к Activity Hub + Proof-of-Impact через MCP]

📝 Принято! Задание на проверке.

┌─────────────────────────────────────────────────────┐
│  Задание: Построение системной модели цели         │
│  Статус: ⏳ На проверке                             │
│  Ожидаемые баллы: 100                              │
└─────────────────────────────────────────────────────┘

Что происходит:
1. ✅ Артефакт загружен в Activity Hub
2. ⏳ Автоматическая проверка качества
3. ⏳ Peer review (опционально)
4. ⏳ Начисление токенов

⏱️ Обычно проверка занимает 10-30 минут.

Уведомить тебя, когда результат будет готов?

---

[Через 15 минут — push notification или follow-up]

🎉 Задание принято!

• Баллы: 100
• Коэффициент квалификации: ×1.5
• Начислено: 150 STK

💡 Feedback: Хорошо выделены ключевые стейкхолдеры.
Рекомендуем добавить анализ ограничений в следующий раз.

```

**UI-элементы Apps SDK:**

| Элемент | Тип | Описание |
|---------|-----|----------|
| Статус-карточка | Widget (iframe) | Название задания, текущий статус, ожидаемые баллы |
| Прогресс проверки | Stepper widget | 4 шага с галочками и спиннерами |
| Notification toggle | Switch | Включить/выключить уведомление о результате |
| Результат проверки | Success/error card | Зелёная карточка с начислением или красная с причиной отказа |
| Feedback | Collapsible text | Развёрнутая обратная связь от автопроверки или ревьюера |
| Действия | Action buttons | `[Следующее задание]` `[Мой прогресс]` `[Оспорить решение]` |

**Варианты оформления Widget:**
```
┌─────────────────────────────────────────────────┐
│ 📝 ЗАДАНИЕ НА ПРОВЕРКЕ                          │
│                                                 │
│ Построение системной модели цели                │
│ Ожидаемые баллы: 100                            │
├─────────────────────────────────────────────────┤
│ ✅ Загружено → ⏳ Автопроверка → ○ Review → ○ STK│
├─────────────────────────────────────────────────┤
│ ⏱️ ~10-30 мин                                   │
│ 🔔 Уведомить о результате: [ON]                 │
├─────────────────────────────────────────────────┤
│ [Другие задания]  [Мой прогресс]                │
└─────────────────────────────────────────────────┘

--- После проверки: ---

┌─────────────────────────────────────────────────┐
│ 🎉 ЗАДАНИЕ ПРИНЯТО                              │
│                                                 │
│      +150 STK                                   │
│      (100 баллов × 1.5 квалификация)            │
├─────────────────────────────────────────────────┤
│ 💡 Feedback:                                    │
│ Хорошо выделены ключевые стейкхолдеры.          │
│ Рекомендуем добавить анализ ограничений.        │
├─────────────────────────────────────────────────┤
│ [Следующее задание]  [Мой прогресс]             │
└─────────────────────────────────────────────────┘
```

**MCP Tools:**
```json
{
  "tools": [
    {
      "name": "submit_work_artifact",
      "description": "Отправить выполненную работу на проверку",
      "parameters": {
        "user_id": "string",
        "assignment_id": "string",
        "content": "string",
        "attachments": "array"
      }
    },
    {
      "name": "get_submission_status",
      "description": "Статус проверки работы (polling или webhook)",
      "parameters": {
        "submission_id": "string"
      }
    },
    {
      "name": "log_activity",
      "description": "Записать активность в Activity Hub",
      "parameters": {
        "user_id": "string",
        "activity_type": "string",
        "metadata": "object"
      }
    },
    {
      "name": "calculate_rewards",
      "description": "Рассчитать вознаграждение за активность",
      "parameters": {
        "activity_id": "string"
      }
    },
    {
      "name": "set_notification",
      "description": "Настроить уведомление о результате",
      "parameters": {
        "submission_id": "string",
        "channel": "string (push, email, telegram)"
      }
    }
  ]
}
```

---

## Техническая архитектура MCP Gateway

### Компоненты

```
┌─────────────────────────────────────────────────────────────────┐
│                      MCP GATEWAY                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌──────────────────┐  ┌──────────────────┐  ┌───────────────┐  │
│  │  Auth Provider   │  │  Tool Registry   │  │ Rate Limiter  │  │
│  │  (OAuth 2.1)     │  │  (all tools)     │  │ (per user)    │  │
│  └────────┬─────────┘  └────────┬─────────┘  └───────┬───────┘  │
│           │                     │                     │          │
│           └─────────────────────┼─────────────────────┘          │
│                                 │                                │
│                    ┌────────────▼────────────┐                   │
│                    │     MCP Router          │                   │
│                    │  (routes tool calls)    │                   │
│                    └────────────┬────────────┘                   │
│                                 │                                │
│  ┌──────────────────────────────┼──────────────────────────────┐ │
│  │                              │                              │ │
│  ▼                              ▼                              ▼ │
│ ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────┐ │
│ │ Digital  │  │  Memory  │  │  Token   │  │  LMS     │  │ ... │ │
│ │ Twin     │  │  Bank    │  │ Economy  │  │          │  │     │ │
│ │ Adapter  │  │ Adapter  │  │ Adapter  │  │ Adapter  │  │     │ │
│ └────┬─────┘  └────┬─────┘  └────┬─────┘  └────┬─────┘  └──┬──┘ │
│      │             │             │             │            │    │
└──────┼─────────────┼─────────────┼─────────────┼────────────┼────┘
       │             │             │             │            │
       ▼             ▼             ▼             ▼            ▼
   [Digital      [Memory       [Token       [LMS          [...]
    Twin]         Bank]        Economy]     Service]
```

### Манифест MCP Server

```json
{
  "name": "aisystant-ecosystem",
  "version": "1.0.0",
  "description": "Экосистема развития интеллекта Aisystant",
  "icon": "https://aisystant.com/icon.png",
  "authentication": {
    "type": "oauth2",
    "authorization_url": "https://auth.aisystant.com/authorize",
    "token_url": "https://auth.aisystant.com/token",
    "scopes": {
      "profile": "Базовый профиль",
      "trajectory": "Траектория развития",
      "tokens": "Управление токенами",
      "learning": "Обучение и задания",
      "community": "Активность в сообществе"
    }
  },
  "tools": [
    {
      "name": "get_my_profile",
      "description": "Получить профиль участника экосистемы"
    },
    {
      "name": "get_learning_trajectory",
      "description": "Персональная траектория развития"
    },
    {
      "name": "get_token_balance",
      "description": "Баланс STK токенов"
    },
    {
      "name": "search_knowledge",
      "description": "Поиск в базе знаний"
    },
    {
      "name": "submit_work",
      "description": "Отправить выполненную работу"
    },
    {
      "name": "get_referral_link",
      "description": "Реферальная ссылка"
    }
  ],
  "templates": [
    {
      "name": "daily_summary",
      "description": "Ежедневная сводка прогресса"
    },
    {
      "name": "week_review",
      "description": "Еженедельный ревью"
    }
  ]
}
```

---

## Стратегия публикации

### Фаза 1: OpenAI Apps SDK (приоритет)

**Почему первый:**
- Крупнейшая пользовательская база (ChatGPT)
- Apps SDK в активном развитии
- Submissions открыты

**Публикуемые приложения:**
1. **Aisystant Guide** — персональный проводник по траектории
2. **Aisystant Wallet** — управление STK токенами
3. **Aisystant Learn** — изучение материалов и выполнение заданий

### Фаза 2: Anthropic MCP Integration

**Почему второй:**
- MCP — основа Apps SDK, натуральная интеграция
- Claude популярен среди технических пользователей
- MCP Connector упрощает интеграцию

**Формат:** Remote MCP Server в каталоге Claude Integrations

### Фаза 3: Google Gemini Extensions

**Почему третий:**
- Поддержка MCP объявлена
- Interactions API в активном развитии
- Интеграция с Google Workspace

**Формат:** Gemini CLI Extension + Connected App

---

## Преимущества подхода

### Для участников

1. **Нулевой барьер входа** — работа в привычном интерфейсе
2. **Мультиплатформенность** — один аккаунт, любой LLM
3. **Бесшовный UX** — полный функционал без переключения контекста
4. **Мобильность** — ChatGPT/Claude/Gemini apps на телефоне

### Для экосистемы

1. **Расширение охвата** — доступ к аудитории всех LLM-платформ
2. **Снижение CAC** — не нужно убеждать людей устанавливать новое приложение
3. **Единая кодовая база** — MCP работает везде
4. **Brand presence** — экосистема присутствует в крупнейших маркетплейсах

### Технические

1. **Стандартизация** — MCP как открытый стандарт
2. **Масштабируемость** — один MCP сервер для всех платформ
3. **Безопасность** — OAuth 2.1, ACL через ORY
4. **Эволюция** — новые платформы легко добавляются

---

## Риски и митигация

| Риск | Митигация |
|------|-----------|
| Изменение API платформ | MCP — открытый стандарт под Linux Foundation |
| Модерация и rejection | Строгое соответствие guidelines каждой платформы |
| Rate limits платформ | Кеширование, graceful degradation |
| Data privacy | Минимальный скоп OAuth, transparent data usage |
| Зависимость от сторонних платформ | Параллельное развитие собственного интерфейса |

---

## Roadmap

### Q1 2026
- [ ] Разработка MCP Gateway
- [ ] Адаптеры для Digital Twin, Memory Bank, Token Economy
- [ ] Подготовка к submission в OpenAI

### Q2 2026
- [ ] Публикация Aisystant Guide в ChatGPT
- [ ] Интеграция с Claude через MCP Connector
- [ ] Сбор feedback и итерации

### Q3 2026
- [ ] Публикация дополнительных приложений
- [ ] Gemini Extensions
- [ ] Advanced features (голосовые интерфейсы, мультимодальность)

### Q4 2026
- [ ] Маркетплейс сторонних ассистентов на базе экосистемы
- [ ] Enterprise интеграции
- [ ] Федеративная архитектура

---

## Связанные документы

- [[Apps SDK и маркетплейс 3.2]] — внутренний маркетплейс ассистентов
- [[Общая архитектура ИТ-платформы 3.2]] — архитектура платформы
- [[Токеномика и распределение 3.1]] — экономика токенов
- [[Проводник по персональному маршруту 3.2]] — ИИ-ассистент

---

## Источники

- [OpenAI Apps SDK](https://developers.openai.com/apps-sdk/)
- [Introducing Apps in ChatGPT (OpenAI)](https://openai.com/index/introducing-apps-in-chatgpt/)
- [Model Context Protocol (Anthropic)](https://www.anthropic.com/news/model-context-protocol)
- [Claude Integrations](https://www.anthropic.com/news/integrations)
- [Gemini CLI Extensions](https://blog.google/technology/developers/gemini-cli-extensions/)
- [Google Interactions API](https://blog.google/technology/developers/interactions-api/)
- [MCP on Linux Foundation](https://en.wikipedia.org/wiki/Model_Context_Protocol)

---

**Status:** 🟡 Draft
**Owner:** AI Platform Team
**Last Updated:** 2025-12-21

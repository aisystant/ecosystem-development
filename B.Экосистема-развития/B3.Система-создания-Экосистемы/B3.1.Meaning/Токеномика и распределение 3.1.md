---
type: doc
audience: mixed
edit_mode: manual
layer: economy
scope: local-edge
security: internal
status: draft
version: 3.0
created: 2025-11-13
updated: 2025-12-18
---

# Токеномика и распределение STK

Полное руководство по эмиссии, начислению и обороту токенов SysTok (STK) в экосистеме Aisystant.

## Философия токеномики

### Ключевой принцип

> **Токены не покупаются — они зарабатываются через вклад.**

Токеномика STK строится на принципе: «Награждаем не за потребление (покупки), а за вклад» — развитие себя, участие в сообществе и создание систем, улучшающих мир.

### Цели токеномики

1. **Экономика мышления и созидания** — создание системы, где интеллектуальный труд и саморазвитие имеют измеримую ценность
2. **Распределение ценности** на основе реального вклада участников
3. **Привлечение ресурсов** для развития экосистемы
4. **Переход от потребления к созиданию** — от модели «обучение через курсы» к «развитию в продуктивной среде»

### Функции токена STK

| Функция | Описание |
|---------|----------|
| **Средство расчёта** | Оплата обучающих программ, доступа к ИИ-ассистентам |
| **P2P платежи** | Расчёты между участниками за услуги и менторство |
| **Единица ценности** | Измерение реального вклада участника в экосистему |
| **Средство доступа** | Персональные ИИ-агенты, премиум-функции |

---

## Эмиссия токенов

### График эмиссии

```python
def calculate_emission(year):
    """
    Расчёт годовой эмиссии токенов.
    Initial supply: 1 миллиард токенов.
    Halving: каждые 4 года.
    """
    initial_supply = 1_000_000_000  # 1B tokens
    halving_period = 4  # years
    halvings = year // halving_period

    yearly_emission = initial_supply / (2 ** halvings)
    return yearly_emission
```

| Период | Годовая эмиссия | Дневная эмиссия |
|--------|-----------------|-----------------|
| Год 0-3 | 1 000 000 000 | 2 739 726 |
| Год 4-7 | 500 000 000 | 1 369 863 |
| Год 8-11 | 250 000 000 | 684 932 |
| Год 12-15 | 125 000 000 | 342 466 |

### Распределение эмиссии

Эмитированные токены распределяются по фондам:

```
┌────────────────────────────────────────────────────────────────┐
│                    ЭМИССИЯ ТОКЕНОВ (100%)                      │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌──────────────────────────────────────────┐                  │
│  │       REWARDS POOL (50%)                 │                  │
│  │       Вознаграждения участникам          │                  │
│  └──────────────────────────────────────────┘                  │
│                                                                │
│  ┌──────────────────────┐  ┌──────────────────────┐           │
│  │   TREASURY (20%)     │  │  STARTUP FUND (15%)  │           │
│  │   Казна экосистемы   │  │   Фонд проектов      │           │
│  └──────────────────────┘  └──────────────────────┘           │
│                                                                │
│  ┌──────────────────────┐  ┌──────────────────────┐           │
│  │   TEAM (10%)         │  │  LIQUIDITY (5%)      │           │
│  │   Команда            │  │  Ликвидность         │           │
│  └──────────────────────┘  └──────────────────────┘           │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### Финансовое обеспечение

Фонд обеспечения токена формируется из:
- **50% подписок** на платформу Aisystant
- **50% донатов** от участников сообщества
- **Доли от успехов стартапов** экосистемы

Резервы обеспечения:
- Криптовалюты (Bitcoin, Solana)
- Стейблкоины (USDC)
- Золото (опционально)

---

## Начисление токенов

### Формула расчёта

**Итоговые баллы участника** = Σ(веса событий за неделю) × Итоговый коэффициент

**Итоговый коэффициент** = Коэффициент квалификации × Коэффициент систематичности

```python
def calculate_weekly_reward(user_id, events):
    """
    Расчёт недельного вознаграждения участника.
    """
    # 1. Сумма весов событий с учётом лимитов
    total_weight = 0
    event_counts = {}

    for event in events:
        event_type = event.type
        if event_type not in event_counts:
            event_counts[event_type] = 0

        # Проверка дневного лимита
        if event_counts[event_type] < EVENT_LIMITS[event_type]:
            total_weight += EVENT_WEIGHTS[event_type]
            event_counts[event_type] += 1

    # 2. Получение коэффициентов
    qualification = get_qualification_coefficient(user_id)
    consistency = get_consistency_coefficient(user_id)

    # 3. Итоговый расчёт
    final_reward = total_weight * qualification * consistency

    return final_reward
```

### Таблица активностей и весов

| Действие | Вес (баллы) | Лимит/день | Описание |
|----------|-------------|------------|----------|
| Чтение раздела | 50 | 5 | Изучение материалов курса |
| Выполнение задания | 100 | 5 | Практические задания |
| Написание поста | 200 | 1 | Публикация в Клубе |
| Поставленный лайк | 10 | 5 | Оценка контента других |
| Полученный лайк | 20 | 10 | Признание качества контента |
| Написание комментария | 50 | 5 | Участие в обсуждениях |
| Получение комментария | 50 | 5 | Вовлечение аудитории |

### Квалификационные уровни

Ранг участника определяет множитель вознаграждения:

| Уровень | Название | Коэффициент | Требования |
|---------|----------|-------------|------------|
| 1 | Первокурсник | 1.0 | Регистрация |
| 2 | Стажёр | 1.2 | Завершён вводный курс |
| 3 | Практик | 1.5 | Сертификация уровня 1 |
| 4 | Специалист | 1.8 | Сертификация уровня 2 |
| 5 | Эксперт | 2.2 | Сертификация уровня 3 |
| 6 | Мастер | 2.6 | Признанные проекты |
| 7 | Наставник | 3.0 | Активное менторство |
| 8 | Общественный деятель | 3.6 | Значительный вклад в сообщество |

### Коэффициент систематичности

Поощрение регулярной активности:

| Недель подряд | Коэффициент |
|---------------|-------------|
| 1 | 1.00 |
| 2 | 1.02 |
| 3 | 1.05 |
| 4 | 1.10 |
| 5+ | 1.20 |

```python
def get_consistency_coefficient(weeks_in_row):
    """
    Расчёт коэффициента систематичности.
    """
    if weeks_in_row <= 1:
        return 1.0
    elif weeks_in_row == 2:
        return 1.02
    elif weeks_in_row == 3:
        return 1.05
    elif weeks_in_row == 4:
        return 1.10
    else:
        return 1.20
```

### Пример расчёта

**Участник:** Практик (уровень 3), 4 недели подряд активен

**Активность за неделю:**
- 5 разделов прочитано: 5 × 50 = 250
- 3 задания выполнено: 3 × 100 = 300
- 1 пост написан: 1 × 200 = 200
- 5 лайков поставлено: 5 × 10 = 50
- 3 лайка получено: 3 × 20 = 60
- 2 комментария написано: 2 × 50 = 100

**Сумма весов:** 960 баллов

**Коэффициенты:**
- Квалификация (Практик): 1.5
- Систематичность (4 недели): 1.10

**Итого:** 960 × 1.5 × 1.10 = **1 584 STK**

---

## Архитектура службы начисления

### Компоненты системы

```
┌─────────────────────────────────────────────────────────────────────┐
│                    СЛУЖБА НАЧИСЛЕНИЯ ТОКЕНОВ                        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌───────────────────┐    ┌───────────────────┐                    │
│  │    PostHog        │    │   API Aisystant   │                    │
│  │  (события user)   │    │ (квалификация,    │                    │
│  │                   │    │  систематичность) │                    │
│  └────────┬──────────┘    └────────┬──────────┘                    │
│           │                        │                                │
│           ▼                        ▼                                │
│  ┌─────────────────────────────────────────────┐                   │
│  │            АГРЕГАТОР СОБЫТИЙ                 │                   │
│  │  (сбор и нормализация данных)               │                   │
│  └────────────────────┬────────────────────────┘                   │
│                       │                                             │
│                       ▼                                             │
│  ┌─────────────────────────────────────────────┐                   │
│  │         СЕРВИС НАЧИСЛЕНИЯ БАЛЛОВ            │                   │
│  │  (расчёт по формуле, применение             │                   │
│  │   коэффициентов, лимитов)                   │                   │
│  └────────────────────┬────────────────────────┘                   │
│                       │                                             │
│                       ▼                                             │
│  ┌────────────────────┐    ┌────────────────────┐                  │
│  │   База данных      │    │  Криптосервис      │                  │
│  │   (PostgreSQL)     │    │  (Solana)          │                  │
│  └────────────────────┘    └────────────────────┘                  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### Источники данных

| Источник | Данные | Назначение |
|----------|--------|------------|
| **PostHog** | События пользователей | ExerciseSave, SectionCompleted, PageView |
| **API Aisystant** | Профиль участника | Квалификация, систематичность, статус оплаты |
| **API Клуба (Discourse)** | Взаимодействия | Лайки, комментарии, посты |
| **Solana** | Блокчейн-транзакции | Финальное распределение токенов |

### Типы событий

```python
EVENT_TYPES = {
    # Обучение
    'ExerciseSave': 'Сохранение упражнения',
    'SectionCompleted': 'Завершение раздела',
    'CourseCompleted': 'Завершение курса',

    # Клуб
    'ClubPostCreated': 'Создание поста',
    'ClubCommentCreated': 'Создание комментария',
    'ClubCommentReceived': 'Получение комментария',
    'ClubLikeGiven': 'Поставлен лайк',
    'ClubLikeReceived': 'Получен лайк',

    # Проекты
    'ProjectMilestoneCompleted': 'Завершение этапа проекта',
    'PeerReviewCompleted': 'Проведение peer review',
}
```

### Процесс недельного начисления

```
┌──────────────────────────────────────────────────────────────────┐
│              ЕЖЕНЕДЕЛЬНЫЙ ПРОЦЕСС НАЧИСЛЕНИЯ                     │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Воскресенье 23:59 UTC — закрытие недели                        │
│  │                                                               │
│  ▼                                                               │
│  Понедельник 00:00-02:00 — агрегация событий                    │
│  │                                                               │
│  ▼                                                               │
│  Понедельник 02:00-04:00 — расчёт баллов                        │
│  │                                                               │
│  ▼                                                               │
│  Понедельник 04:00-06:00 — генерация отчётов                    │
│  │  ├─ CSV: (дата, user_id, баллы)                              │
│  │  └─ PDF: расшифровка для личного кабинета                    │
│  │                                                               │
│  ▼                                                               │
│  Понедельник 06:00-08:00 — отправка в Solana                    │
│  │                                                               │
│  ▼                                                               │
│  Понедельник 08:00 — уведомления участникам                     │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

---

## Оборот токенов

### Способы получения токенов

| Способ | Описание | Примерный доход |
|--------|----------|-----------------|
| **Обучение** | Прохождение курсов, выполнение заданий | 500-2000 STK/неделю |
| **Участие в Клубе** | Посты, комментарии, помощь другим | 200-800 STK/неделю |
| **Менторство** | Сопровождение других участников | 1000-5000 STK/неделю |
| **Создание контента** | Авторские материалы, курсы | Согласно договору |
| **Проекты** | Вклад в проекты экосистемы | По результатам |
| **Гранты** | За системное обучение | По программе грантов |

### Способы использования токенов

| Использование | Описание |
|---------------|----------|
| **Обучающие программы** | Оплата курсов и модулей |
| **ИИ-ассистенты** | Доступ к персональным агентам |
| **Менторство** | Оплата сессий с наставниками |
| **Премиум-функции** | Расширенный функционал платформы |
| **P2P услуги** | Оплата услуг других участников |
| **Маркетплейс агентов** | Покупка/аренда ИИ-агентов |

### Маркетплейс услуг

```python
# Пример каталога услуг
SERVICES = {
    'course_basic': {
        'name': 'Базовый курс',
        'price_stk': 500,
        'split_rule': {'author': 0.70, 'treasury': 0.30}
    },
    'mentor_session_1h': {
        'name': 'Сессия с ментором (1 час)',
        'price_stk': 200,
        'split_rule': {'mentor': 0.80, 'treasury': 0.20}
    },
    'ai_agent_premium': {
        'name': 'Премиум ИИ-агент (месяц)',
        'price_stk': 1000,
        'split_rule': {'developer': 0.60, 'treasury': 0.40}
    }
}
```

### SplitRule — автоматическое распределение

При каждой транзакции токены автоматически распределяются:

```python
def process_payment(buyer_id, service_id, amount):
    """
    Обработка платежа с автоматическим split.
    """
    service = get_service(service_id)
    split_rule = service['split_rule']

    transactions = []

    for recipient_type, share in split_rule.items():
        recipient_id = get_recipient_id(service, recipient_type)
        share_amount = amount * share

        tx = TokenTransaction(
            from_user=buyer_id,
            to_user=recipient_id,
            amount=share_amount,
            type='service_payment',
            service_id=service_id
        )
        transactions.append(tx)

    execute_transactions(transactions)
    activate_service(buyer_id, service_id)

    return transactions
```

---

## Vesting и заморозка

### Механизм заморозки

Токены за определённые активности начисляются с временной заморозкой (vesting) до подтверждения эффекта:

| Тип вознаграждения | Период заморозки | Причина |
|--------------------|------------------|---------|
| Обучение | 0 дней | Немедленное подтверждение |
| Peer review | 30 дней | Проверка качества |
| Проекты | 60-90 дней | Валидация результатов |
| Менторство | 30 дней | Оценка от менти |
| Реферальные | 90 дней | Активность приведённого |

### Окна регрессии

```python
def process_frozen_reward(reward_id):
    """
    Обработка размороженного вознаграждения.
    """
    reward = get_reward(reward_id)

    if reward.vesting_ends_at > now():
        return  # Ещё рано

    # Проверка условий разморозки
    if validate_reward_conditions(reward):
        # Разморозка
        reward.status = 'active'
        update_balance(reward.user_id, reward.amount)
        notify_user(reward.user_id, f"Разморожено {reward.amount} STK")
    else:
        # Отмена вознаграждения
        reward.status = 'cancelled'
        return_to_pool(reward.amount)
        notify_user(reward.user_id, "Вознаграждение отменено")
```

---

## Перераспределение от неактивных

### Механизм soft slashing

Для стимулирования активности применяется прогрессивное перераспределение токенов от неактивных участников:

| Дней неактивности | Действие | Ставка/квартал |
|-------------------|----------|----------------|
| < 90 | Grace period | 0% |
| 90-180 | Предупреждение + soft slashing | 5% |
| 180-365 | Умеренное перераспределение | 10% |
| > 365 | Активное перераспределение | 15% |

### Процесс

```python
def handle_inactive_users():
    """
    Ежеквартальная обработка неактивных участников.
    """
    users = get_users_by_inactivity()

    for user in users:
        days_inactive = user.days_since_last_activity

        if days_inactive < 90:
            continue  # Grace period

        if days_inactive < 180:
            rate = 0.05
            send_warning(user.id)
        elif days_inactive < 365:
            rate = 0.10
        else:
            rate = 0.15

        amount = user.balance * rate

        # Перераспределение в Rewards Pool
        transfer(
            from_user=user.id,
            to_user='rewards_pool',
            amount=amount,
            reason='inactivity_redistribution'
        )

        notify_user(user.id,
            f"Перераспределено {amount} STK из-за неактивности. "
            f"Вернитесь к обучению, чтобы восстановить баланс!"
        )
```

---

## Стабилизация экономики

### Механизмы стабилизации

| Механизм | Триггер | Действие |
|----------|---------|----------|
| **Buyback** | Падение цены > 20% | Выкуп токенов казначейством |
| **Burn** | Избыток предложения | Сжигание части supply |
| **Emission adjustment** | Высокая инфляция | Замедление эмиссии |
| **Fee adjustment** | Дисбаланс спрос/предложение | Корректировка комиссий |

### Метрики здоровья экономики

| Метрика | Целевое значение | Критическое |
|---------|------------------|-------------|
| Инфляция | < 5%/год | > 10%/год |
| Token Velocity | 0.5-2.0 | < 0.2 или > 5 |
| Active Wallets | > 30% от базы | < 10% |
| Frozen Tokens | < 20% supply | > 40% |
| Treasury Balance | > 15% supply | < 5% |

---

## Техническая реализация

### Блокчейн (Solana)

- **Стандарт:** SPL Token
- **Преимущества:** Высокая пропускная способность, низкие комиссии
- **Кошельки:** Phantom, Solflare

### Backend

```python
# Технологический стек
TECH_STACK = {
    'blockchain': 'Solana (SPL Token)',
    'backend': 'Python/FastAPI',
    'database': 'PostgreSQL',
    'cache': 'Redis',
    'analytics': 'PostHog',
    'queue': 'Redis Queue / Celery',
}
```

### API эндпоинты

```
# Балансы
GET  /api/v1/tokenomics/balance                 # Баланс текущего пользователя
GET  /api/v1/tokenomics/balance/history         # История изменений

# Транзакции
GET  /api/v1/tokenomics/transactions            # Список транзакций
POST /api/v1/tokenomics/transfer                # Перевод другому участнику

# Вознаграждения
GET  /api/v1/tokenomics/rewards                 # История вознаграждений
GET  /api/v1/tokenomics/rewards/weekly          # Недельная расшифровка (PDF)

# Маркетплейс
GET  /api/v1/tokenomics/services                # Каталог услуг
POST /api/v1/tokenomics/services/:id/purchase   # Покупка услуги

# Аналитика (admin)
GET  /api/v1/tokenomics/stats/supply            # Статистика эмиссии
GET  /api/v1/tokenomics/stats/distribution      # Распределение по участникам
GET  /api/v1/tokenomics/reports/quarterly       # Квартальный отчёт
```

---

## Отчётность и прозрачность

### Квартальные отчёты

Публикуются в Клубе и включают:

1. **Supply Metrics**
   - Общая эмиссия за период
   - Сожжённые токены
   - Текущий circulating supply

2. **Distribution**
   - Распределение по фондам
   - Top-100 держателей (анонимизированно)
   - Gini coefficient

3. **Activity Metrics**
   - Количество активных кошельков
   - Объём транзакций
   - Средний reward per user

4. **Economic Health**
   - Инфляция
   - Token velocity
   - Treasury состояние

### Индивидуальные отчёты

Каждый участник получает еженедельно:
- PDF с расшифровкой начислений
- Детализация по типам активностей
- Сравнение с предыдущей неделей
- Рекомендации по увеличению заработка

---

## Roadmap внедрения

### Фаза 1: MVP (Q2 2025)

- [x] Служба учёта активностей (PostHog интеграция)
- [x] Расчёт баллов по формуле
- [ ] Недельные отчёты в личном кабинете
- [ ] Базовый виджет баланса

### Фаза 2: Криптоинтеграция (Q3 2025)

- [ ] Развёртывание SPL токена на Solana
- [ ] Интеграция с Phantom wallet
- [ ] On-chain транзакции
- [ ] Маркетплейс услуг (базовый)

### Фаза 3: Полная экономика (Q4 2025)

- [ ] Vesting и заморозка
- [ ] Перераспределение от неактивных
- [ ] Расширенный маркетплейс
- [ ] Стейкинг
- [ ] Governance (голосование)

### Фаза 4: Масштабирование (2026)

- [ ] Cross-chain bridges
- [ ] DeFi интеграции
- [ ] Advanced fraud detection (ML)
- [ ] Decentralized treasury (DAO)

---

## Связанные документы

- [[3.1. Экономика экосистемы]] — общая экономическая модель
- [[4.6. Система учета активностей]] — источник событий
- [[4.12. Система Proof-of-Impact]] — валидация вклада
- [[4.11. Цифровой двойник]] — профиль участника
- [[4.9. Биллинг]] — интеграция с подписками

---

## Источники

- [Экономика сообщества](https://systemsworld.club/t/ekonomika-soobshhestva/25811)
- [Зачем ШСМ токеномика](https://systemsworld.club/t/zachem-shsm-tokenomika-i-pochemu-ona-nuzhna-sejchas/24287)
- [Служба начисления токенов](https://systemsworld.club/t/sluzhba-nachisleniya-tokenov/26705)
- [Схема потоков данных сервиса](https://systemsworld.club/t/princzipialnaya-shema-opisanie-potokov-dannyh-servisa-nachisleniya-ballov/28760)

---

## История изменений

| Дата | Версия | Описание |
|------|--------|----------|
| 2025-12-18 | 3.0 | Полная переработка на основе публикаций сообщества: формулы начисления, таблицы весов, квалификационные уровни, архитектура службы |
| 2025-11-13 | 2.0 | Детальная архитектура компонентов |
| — | 1.0 | Первоначальная версия |

---

**Status:** Draft
**Owner:** Tokenomics Team
**Last Updated:** 2025-12-18

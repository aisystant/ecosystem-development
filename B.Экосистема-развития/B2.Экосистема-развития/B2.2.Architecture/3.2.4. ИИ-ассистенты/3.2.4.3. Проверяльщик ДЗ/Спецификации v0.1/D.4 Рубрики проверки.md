# D.4 Рубрики проверки

Критерии оценки, веса и пороги решений для проверки домашних заданий.

---

## Что такое рубрика

**Рубрика** — набор критериев с весами для оценки ответа стажёра.

Каждая рубрика определяет:
- Какие аспекты ответа оцениваются
- Какой вес у каждого критерия
- Какой проходной балл

---

## Рубрики v0.1

### Базовая рубрика: Понимание концепции

Используется по умолчанию для большинства вопросов.

| Критерий | Вес | Описание |
|----------|-----|----------|
| **Ключевая идея** | 40% | Стажёр передал ключевую идею из материала |
| **Собственный пример** | 30% | Приведён собственный пример, иллюстрирующий понимание |
| **Терминология** | 20% | Корректно использована терминология из курса |
| **Полнота** | 10% | Ответ полный, без очевидных пропусков |

**Проходной балл:** 60/100

#### Уровни оценки по критериям

**Ключевая идея (40 баллов):**
| Балл | Описание |
|------|----------|
| 40 | Идея передана точно и полно |
| 25 | Идея передана частично или с неточностями |
| 10 | Идея упомянута, но искажена |
| 0 | Ключевая идея не передана |

**Собственный пример (30 баллов):**
| Балл | Описание |
|------|----------|
| 30 | Пример релевантный, оригинальный и хорошо иллюстрирует концепцию |
| 20 | Пример приведён, но мог бы быть лучше |
| 10 | Пример слабо связан с концепцией |
| 0 | Пример отсутствует |

---

### Рубрика: Глубокое понимание

Для вопросов, требующих анализа и аргументации.

| Критерий | Вес | Описание |
|----------|-----|----------|
| **Суть концепции** | 35% | Раскрыта суть, не только поверхностное описание |
| **Аргументация** | 35% | Приведена аргументация, объяснено "почему" |
| **Связи** | 20% | Установлены связи с другими понятиями курса |
| **Рефлексия** | 10% | Есть элемент личной рефлексии |

**Проходной балл:** 65/100

---

### Рубрика: Рефлексивное задание

Для заданий на осмысление личного опыта.

| Критерий | Вес | Описание |
|----------|-----|----------|
| **Понимание проблемы** | 30% | Стажёр понял суть вопроса/проблемы |
| **Личный анализ** | 40% | Представлен собственный анализ, а не пересказ |
| **Примеры из жизни** | 30% | Приведены релевантные примеры из личного опыта |

**Проходной балл:** 55/100

---

## Пороги автоматических решений

| Диапазон баллов | Вердикт | Действие |
|-----------------|---------|----------|
| 80–100 | `accepted` | Автоматически принять |
| 60–79 | `needs_revision` | Отправить наставнику на проверку |
| 40–59 | `needs_revision` | Вернуть на доработку с рекомендациями |
| 0–39 | `rejected` | Автоматически отклонить |

---

## Выбор рубрики

### v0.1: Базовая рубрика для всех

В первой версии используется только рубрика "Понимание концепции".

### v0.2+: Сопоставление с типом вопроса

```yaml
# questions_map.yaml
questions:
  q_phys_world_01:
    rubric_id: "rubric_conceptual_understanding"

  q_conscious_learning:
    rubric_id: "rubric_deep_understanding"

  q_worldview_mix:
    rubric_id: "rubric_reflection"
```

---

## Формат рубрики в YAML

```yaml
rubrics:
  rubric_conceptual_understanding:
    name: "Понимание концепции"
    description: "Оценивает понимание основной идеи"
    total_points: 100
    passing_score: 60
    criteria:
      - id: main_idea
        name: "Ключевая идея"
        weight: 40
        description: "Стажёр передал ключевую идею"
        levels:
          - score: 40
            description: "Идея передана точно и полно"
          - score: 25
            description: "Идея передана частично"
          - score: 10
            description: "Идея искажена"
          - score: 0
            description: "Идея не передана"
```

---

## Калибровка рубрик

### Принципы

1. **Консистентность** — одинаковые ответы получают одинаковые баллы
2. **Справедливость** — баллы соответствуют качеству ответа
3. **Понятность** — стажёр понимает, за что снижен балл

### Процесс калибровки (v0.2+)

1. Сбор примеров ответов с оценками наставников
2. Сравнение оценок LLM с оценками наставников
3. Корректировка весов и формулировок
4. A/B-тестирование

---

## Связанные документы

- [D.3 Описание промптов](./D.3%20Описание%20промптов.md)
- [Общее описание Проверяльщика ДЗ](../Общее%20описание%20Проверяльщика%20ДЗ%20(ДЗ-чекер)%203.2.md) — раздел "Рубрики проверки"
- Рабочий файл: `agents-core/homework-checker/data/rubrics.yaml`

---

**Версия:** 0.1
**Дата:** 2025-12-31

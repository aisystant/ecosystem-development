# Стандарты оформления документов

## Назначение

Этот документ определяет **стандарты оформления** всех документов в репозитории. Стандарты обеспечивают:
- Читаемость и единообразие
- Автоматическую валидацию ИИ-агентами
- Отсутствие дубликатов и конфликтов
- Долгосрочную поддержку знаний

---

## Формат документов

### Markdown

**Все документы** создаются в формате **Markdown (`.md`)**.

**Преимущества Markdown**:
- Читаемость в plain text
- Простота diff-сравнения в Git
- Поддержка всеми редакторами
- Docs as Code подход

### Структура файла

Каждый документ должен содержать:

1. **Frontmatter (YAML-заголовок)**
2. **Основной контент (Markdown)**
3. **Ссылки на связанные документы (См. также)**

**Пример структуры**:
```markdown
---
family: F5
kernel: A
system: A2
role: Architecture
target_audience:
  - "Методологи"
status: stable
created: 2025-01-10
modified: 2025-01-16
---

# Название документа

## Раздел 1

Содержание...

## Раздел 2

Содержание...

## См. также

- [[Related-Document.md]]
```

---

## Frontmatter (YAML-метаданные)

### Обязательные атрибуты

Каждый документ **ОБЯЗАТЕЛЬНО** должен иметь:

```yaml
---
family: F5                    # Семейство F0-F9
kernel: A                     # Ядро (A/B/C или F0)
system: A2                    # Система (X1/X2/X3)
role: Architecture            # Роль (Meaning/Architecture/Operations)
target_audience:              # КРИТИЧЕСКИЙ атрибут!
  - "Методологи"
  - "Наставники"
status: draft                 # draft | review | stable | deprecated
created: 2025-01-10
modified: 2025-01-16
---
```

**ВАЖНО**: `target_audience` — критический атрибут, всегда обязателен!

### Дополнительные атрибуты

```yaml
---
# === Базовые ===
type: doc | spec | process | method | reference | report
developer_role: "Методолог"   # Кто создаёт

# === FPF: Trust Calculus ===
trust:
  F: 5                        # Formality: 0-9
  G: "domain"                 # ClaimScope: universal | domain | local-edge
  R: 0.8                      # Reliability: 0.0-1.0

# === FPF: Epistemic Stage ===
epistemic_stage: shape        # explore | shape | evidence | operate

# === Связи документов ===
depends_on:                   # Родительские документы
  - "path/to/parent.md"
affects:                      # Дочерние документы
  - "path/to/child.md"
related:                      # Смежные документы
  - "path/to/related.md"

# === Теги ===
tags:
  - kernel-a
  - architecture
---
```

### Правила Frontmatter

1. **YAML-синтаксис**: Frontmatter обрамляется тремя дефисами `---`.
2. **Обязательные поля**: family, kernel, system, role, target_audience, status, created, modified.
3. **Соответствие аудитории семейству**: target_audience должен совпадать с семейством (см. [[../0.1.Knowledge-Logic/06-taxonomy.md]]).
4. **Соответствие пути файла**: kernel/system/role должны совпадать с физическим расположением.

---

## Именование файлов

### Конвенция именования

**Формат**: `PREFIX.Name-With-Dashes.md`

**Префиксы** (обязательны):
- `R.` — Роль (Role)
- `S.` — Система (System)
- `AGT.` — ИИ-агент (AI Agent)
- `QLF.` — Квалификация (Qualification)
- `C.` — Компонент (Component)
- `E.` — Событие (Event)

**Правила**:
- **PascalCase**: Каждое слово с заглавной буквы
- **Дефисы**: Между словами используется `-`
- **Латиница**: Предпочтительно, избегать кириллицы в именах файлов

**Примеры**:
```
✅ R.Созидатель-Ученик.md
✅ S.Экосистема-Развития.md
✅ C.Модель-Созидателя.md
✅ AGT.Наставник.md
✅ QLF.Базовые-Компетенции.md
✅ E.Онбординг.md

❌ созидатель-ученик.md        # Нет префикса
❌ R.созидатель ученик.md       # Lowercase + пробел
❌ Созидатель-Ученик.md         # Нет префикса
```

Подробнее: [[../0.1.Knowledge-Logic/07-naming.md]]

---

## Структура контента

### Заголовки

**Иерархия заголовков**:
- `# Название документа` — H1 (один на документ)
- `## Раздел` — H2 (основные разделы)
- `### Подраздел` — H3 (подразделы)
- `#### Деталь` — H4 (детализация)

**Правила**:
- Один H1 на документ (совпадает с `title` в Frontmatter или именем файла)
- Используйте H2-H4 для структуры
- Избегайте H5-H6 (слишком глубокая вложенность)

### Списки

**Неупорядоченные списки**:
```markdown
- Элемент 1
- Элемент 2
  - Вложенный элемент 2.1
  - Вложенный элемент 2.2
- Элемент 3
```

**Упорядоченные списки**:
```markdown
1. Шаг 1
2. Шаг 2
3. Шаг 3
```

### Таблицы

```markdown
| Заголовок 1 | Заголовок 2 | Заголовок 3 |
|-------------|-------------|-------------|
| Значение 1  | Значение 2  | Значение 3  |
| Значение 4  | Значение 5  | Значение 6  |
```

### Блоки кода

**Inline код**: `код`

**Блоки кода**:
````markdown
```python
def function():
    return "code"
```
````

**С подсветкой синтаксиса**: Указывайте язык (`python`, `yaml`, `bash`, `markdown`).

### Цитаты

```markdown
> Это цитата или важное замечание.
> Можно использовать для выделения ключевых мыслей.
```

### Выделение текста

- **Жирный**: `**текст**` → **текст**
- *Курсив*: `*текст*` → *текст*
- `Моноширинный`: \`текст\` → `текст`

---

## Ссылки

### Внутренние ссылки (Wikilinks)

**Формат**: `[[Имя-Файла.md]]` или `[[Относительный-Путь/Файл.md]]`

**Примеры**:
```markdown
[[01-kernels-model.md]]
[[C.Модель-Созидателя.md]]
[[../A2.2.Architecture/C.Модель-Созидателя.md]]
```

**С якорями**:
```markdown
[[04-ontology.md#Базовые-сущности]]
```

### Внешние ссылки

**Формат**: `[Текст ссылки](URL)`

**Пример**:
```markdown
[Документация S2R](https://github.com/TserenTserenov/s2r)
```

### Ссылки в Frontmatter

**depends_on / affects / related**:
```yaml
depends_on:
  - "path/to/parent.md"
  - "../0.1.Knowledge-Logic/04-ontology.md"
```

**Правила**:
- Используйте относительные пути от текущего файла
- Всегда указывайте расширение `.md`
- Проверяйте существование файла

---

## Стилистические рекомендации

### Язык

- **Ясность**: Избегайте жаргона, если термин не определён в [[../0.1.Knowledge-Logic/05-glossary.md]].
- **Краткость**: Пишите коротко и по делу. Если раздел разрастается, вынесите в отдельный документ.
- **Конкретность**: Используйте конкретные примеры, избегайте абстракций.

### Tone of Voice

- **Для F0-F2, F8**: Технический, формальный, точный.
- **Для F4, F6**: Простой, понятный, мотивирующий.
- **Для F7**: Деловой, фокус на бизнес-ценности.

### Избегайте дублирования

**Single Source of Truth**: Одно знание = один документ.

Если контент повторяется:
1. Вынесите в отдельный документ
2. Ссылайтесь через `[[wikilink]]` или `depends_on`

---

## Версионирование

### Жизненный цикл документа

```
draft → review → stable → deprecated
```

**Статусы**:
- **draft**: Черновик, в процессе разработки
- **review**: На ревью
- **stable**: Стабильный, используется
- **deprecated**: Устарел, не используется

### Обновление modified

**Правило**: При каждом изменении обновляйте `modified: YYYY-MM-DD`.

**Автоматизация**: ИИ-агенты могут обновлять автоматически при сохранении.

### История изменений

Для критических документов добавьте раздел **История изменений**:

```markdown
## История изменений

### v0.3 (2025-01-16)
- Добавлен раздел "Связи документов"
- Обновлены примеры

### v0.2 (2025-01-10)
- Первая стабильная версия

### v0.1 (2025-01-05)
- Черновик
```

---

## Валидация

### Автоматическая проверка

ИИ-агенты проверяют:
1. ✅ Наличие обязательных атрибутов Frontmatter
2. ✅ Соответствие target_audience семейству
3. ✅ Соответствие kernel/system/role физическому пути
4. ✅ Корректность ссылок (wikilinks, depends_on, affects)
5. ✅ Правильное именование файлов (префиксы, PascalCase)

**Отчёты**: `0.OPS/0.4.AI-Reports/validation-errors/`

### Ручная проверка

Ревьюер проверяет:
- Стилистика и clarity
- Соответствие tone of voice
- Полнота содержания
- Отсутствие дублирования

**Процесс**: Code review + ревью ИИ-агентом.

---

## Инструменты

### Редакторы

**Рекомендуется**:
- **Obsidian**: Для работы с wikilinks, графом знаний
- **VS Code**: Для разработки с Git
- **Typora**: Для WYSIWYG редактирования

**Плагины**:
- Markdown linter (VS Code)
- Markdown Preview Enhanced (VS Code)
- Obsidian Linter (Obsidian)

### Валидация

**Скрипты**:
- `ops/validate_classifications.py` — проверка Frontmatter
- `ops/normalize_content.py` — нормализация структуры
- `ops/build_check_document.py` — генерация отчётов

---

## Примеры

### Минимальный документ

```markdown
---
family: F5
kernel: A
system: A2
role: Architecture
target_audience:
  - "Методологи"
status: draft
created: 2025-01-16
modified: 2025-01-16
---

# Компонент: Название

## Обзор

Краткое описание компонента.

## См. также

- [[Related-Document.md]]
```

### Полный документ

См. шаблон в [[fpf-template.md]] или примеры в [[../0.1.Knowledge-Logic/09-examples-library.md]].

---

## См. также

- [[../0.1.Knowledge-Logic/06-taxonomy.md]] — классификация документов
- [[../0.1.Knowledge-Logic/07-naming.md]] — правила именования
- [[../0.1.Knowledge-Logic/04-ontology.md]] — фундаментальные определения
- [[fpf-template.md]] — шаблон FPF-документа
- [[../0.1.Knowledge-Logic/09-examples-library.md]] — примеры документов

# Структура репозитория (Repository Structure)

## Назначение документа

Этот документ описывает структуру S2R (Systems-Roles Repository) для multi-kernel хранилища экосистемы развития. Здесь зафиксированы принципы организации, правила именования и архитектура папок.

---

## Методология: S2R (Systems-Roles Repository)

**S2R** — это метод организации знаний через **несколько ядер (kernels)**, каждое из которых представляет полную 3×3 матрицу "Системы × Роли" для одной системы интереса (SoI).

**Ключевые особенности:**
1. **Multi-kernel**: несколько ядер для разных точек зрения на SoI
2. **Explicit naming**: используем реальные имена систем (не абстракции)
3. **Explicit relationships**: явные отношения ∋ (contains), ⊃ (includes), ← (creates)
4. **F0 meta-level**: мета-уровень 0.OPS/ управляет всеми ядрами

---

## Верхнеуровневая структура

```
ecosystem-development/
├── 0.OPS/                              # F0 — Мета-эпистема (управление всеми ядрами)
├── A.Созидатель/                       # Ядро A — взгляд на Созидателя как SoI
├── B.Экосистема-развития/              # Ядро B — взгляд на Экосистему как SoI
├── C.ИТ-платформа-Экосистемы/          # Ядро C — взгляд на ИТ-платформу как SoI
├── old/                                # Старая структура (до S2R миграции)
├── agents-core/                        # ИИ-агенты (Python)
├── artifacts/                          # Артефакты (метрики, инвентарь)
├── .ops/                                # Операционные скрипты
├── README.md                           # Главный README (S2R структура)
└── CLAUDE.md                           # Инструкции для ИИ-агентов
```

---

## Ядра (Kernels)

### Что такое ядро?

**Ядро** — это полная 3×3 матрица, описывающая одну систему интереса (SoI) с трёх уровней систем и трёх ролей.

Каждое ядро содержит:
- **3 системы**: Надсистема (1), SoI (2), Система создания (3)
- **3 роли** для каждой системы: Meaning (.1), Architecture (.2), Operations (.3)
- **Итого**: 9 папок (3 × 3)

### Граф систем

```
A1.Команды-и-сообщества ∋ A2.Созидатель
                           ↑
                           |
B1.Мир → B2.Экосистема-развития ⊃ (Сообщество ∋ созидателей, ИТ-платформа)
                           ↑
                           |
                        B3.Система-создания-Экосистемы ⊃ C3.ИТ-службу
                           ↑
                           |
C1.Экосистема-развития ∋ C2.ИТ-платформа-Экосистемы
```

**Символы:**
- **∋** — физически содержит (надсистема содержит SoI)
- **⊃** — включает как часть (система включает подсистему)
- **←** — создаёт (система создания создаёт SoI)

### Ядро A: Созидатель

**SoI**: Человек как созидатель (разработчик, предприниматель, учащийся)

```
A.Созидатель/
├── A1.Команды-и-сообщества/          # Надсистема (∋ созидателя)
│   ├── A1.1.Meaning/                # Зачем команды, культура, ценности
│   ├── A1.2.Architecture/           # Структура команд, роли, сообщества
│   └── A1.3.Operations/             # Как работают команды, ритуалы
├── A2.Созидатель/                   # SoI (человек)
│   ├── A2.1.Meaning/                # Зачем созидать, ценность
│   ├── A2.2.Architecture/           # Модель созидателя, компетенции
│   └── A2.3.Operations/             # Путь развития, практики
└── A3.Экосистема-развития/          # Система создания (→ созидателя)
    ├── A3.1.Meaning/                # Зачем экосистема, бизнес-модели
    ├── A3.2.Architecture/           # Платформа, подсистемы
    └── A3.3.Operations/             # Команда, службы, сопровождение
```

### Ядро B: Экосистема развития

**SoI**: Экосистема развития (включает сообщество, ИТ-платформу, контент)

```
B.Экосистема-развития/
├── B1.Мир/                          # Надсистема (рынок EdTech/Creator Economy)
│   ├── B1.1.Meaning/                # Тренды, продвижение
│   ├── B1.2.Architecture/           # Контексты применения
│   └── B1.3.Operations/             # Репутация, партнёрства
├── B2.Экосистема-развития/          # SoI (составная система)
│   ├── B2.1.Meaning/                # Ценностное предложение
│   ├── B2.2.Architecture/           # Подсистемы:
│   │   ├── Сообщество/              # ∋ созидателей (людей)
│   │   └── ИТ-платформа/            # Техническая инфраструктура
│   └── B2.3.Operations/             # Процессы экосистемы
└── B3.Система-создания-Экосистемы/  # Система создания (команда + инфраструктура)
    ├── B3.1.Meaning/                # Экономика, инвестиции
    ├── B3.2.Architecture/           # ⊃ ИТ-службу + др. команды
    └── B3.3.Operations/             # Процессы разработки
```

**Важно**: 
- B2.2.Architecture/ содержит **явные подсистемы**: `Сообщество/` и `ИТ-платформа/`
- B3 = полная система создания (команда + процессы + инфраструктура), включает ИТ-службу

### Ядро C: ИТ-платформа Экосистемы

**SoI**: ИТ-платформа (техническая инфраструктура, подсистема экосистемы)

```
C.ИТ-платформа-Экосистемы/
├── C1.Экосистема-развития/          # Надсистема (∋ платформу)
│   ├── C1.1.Meaning/                # Требования от экосистемы
│   ├── C1.2.Architecture/           # Интеграция в экосистему
│   └── C1.3.Operations/             # SLA, интеграция
├── C2.ИТ-платформа-Экосистемы/      # SoI (техническая система)
│   ├── C2.1.Meaning/                # Зачем платформа
│   ├── C2.2.Architecture/           # MCP, агенты, репозитории
│   └── C2.3.Operations/             # DevOps, мониторинг
└── C3.ИТ-служба/                    # Система создания (входит в B3)
    ├── C3.1.Meaning/                # Миссия ИТ-службы
    ├── C3.2.Architecture/           # Состав ИТ-службы, DevOps
    └── C3.3.Operations/             # Процессы разработки, SRE
```

**Важно**: C — это детализация подсистемы из B2.2.Architecture/ИТ-платформа/

---

## Мета-уровень: 0.OPS/

**F0** — это мета-эпистема, которая управляет всеми ядрами A, B, C.

```
0.OPS/
├── 0.1.Knowledge-Logic/             # Логика знаний
│   ├── 01-kernels-model.md          # Модель 3 ядер
│   ├── 02-document-families.md      # Семейства F1-F9
│   ├── 03-our-systems-map.md        # Граф систем
│   ├── 04-repository-structure.md   # ← Этот документ
│   ├── 05-glossary.md               # Глоссарий S2R
│   ├── 06-document-standards.md     # Стандарты оформления
│   ├── 07-naming.md                 # Правила именования
│   └── 08-document-relationships.md # Паттерны взаимосвязей
│
├── 0.2.Kernels-Bridge/              # Связи между ядрами
│   └── 01-value-chain.md            # Value chain A → B → C
│
├── 0.3.Roles-Matrix-3x3/            # Матрица 3×3 (системы × роли)
│
├── 0.4.FPF-Integration/             # Связь с First Principles Framework
│
├── 0.5.AI-Reports/                  # Автоматические отчёты ИИ
│   ├── consistency-reports/         # Противоречия
│   ├── completeness-reports/        # Полнота
│   └── quality-reports/             # Качество
│
├── 0.6.Repository-Processes/        # Процессы работы с репо
│   ├── document-creation.md
│   ├── review-process.md
│   └── migration-process.md
│
├── 0.7.Change-Log/                  # История изменений
│
├── 0.9.Inbox/                       # Входящие (черновики)
│
└── 0.99.Archive/                    # Архив
```

---

## Принципы организации S2R

### Принцип 1. Одно ядро = одна точка зрения на SoI

Каждое ядро описывает **одну систему интереса** с трёх уровней:
1. Надсистема (∋ SoI)
2. Сама система (SoI)
3. Система создания (→ SoI)

**Почему несколько ядер?**
- Разные аспекты требуют разного уровня детализации
- A-ядро: фокус на человеке как созидателе
- B-ядро: фокус на экосистеме как целом
- C-ядро: фокус на ИТ-платформе (техническая детализация)

### Принцип 2. Реальные имена систем (не абстракции)

**❌ Плохо**: `A.Target-System`, `B.Creation-System`

**✅ Хорошо**: `A.Созидатель`, `B.Экосистема-развития`

**Почему**: Абстрактные термины затрудняют понимание. Конкретные имена делают структуру самодокументируемой.

### Принцип 3. Явные отношения между системами

Используем символы для обозначения отношений:
- **∋** — физически содержит (надсистема ∋ SoI)
- **⊃** — включает как часть (система ⊃ подсистему)
- **←** — создаёт (система создания ← SoI)

**Пример**:
```
Команды ∋ Созидателя ← Экосистема ⊃ (Сообщество, ИТ-платформа) ← Система создания ⊃ ИТ-службу
```

### Принцип 4. Единственное место для каждого документа

Каждый документ имеет **одно правильное место** в ядре.

**Как определить место:**
1. Определить ядро (A/B/C) — какая SoI?
2. Определить систему (1/2/3) — надсистема/SoI/создания?
3. Определить роль (.1/.2/.3) — Meaning/Architecture/Operations?

**Это обеспечивает:**
- Отсутствие дубликатов
- Однозначность интерпретации
- Простоту поиска

### Принцип 5. Семейства документов (F0-F9)

Семейство — это «вид» на знания, а не физическая папка.

**Матрица семейств:**
| Роль ↓ / Система → | Надсистема (1) | SoI (2) | Система создания (3) |
|---|---|---|---|
| **Meaning (1)** | F1 | F2 | F3 |
| **Architecture (2)** | F4 | F5 | F6 |
| **Operations (3)** | F7 | F8 | F9 |

Каждый документ принадлежит **одному семейству**, указанному в Frontmatter.

**Подробнее**: [[02-document-families.md]]

### Принцип 6. Целевая аудитория — критический атрибут

**Каждый документ написан для конкретной аудитории:**

| Семейство | Целевые читатели | НЕ для |
|-----------|------------------|--------|
| F1 | Потенциальные участники | Инвесторы (→F7), разработчики (→F8) |
| F2 | Пользователи продукта | Инвесторы (→F7), внутренняя команда (→F9) |
| F4 | Ученики, созидатели | Инвесторы (→F7), техспециалисты (→F8) |
| F5 | Наставники | Ученики напрямую (→F4/F6) |
| F7 | Инвесторы, стратеги | Ученики (→F4) |
| F8 | DevOps, техлиды | Ученики (→F4), инвесторы (→F7) |

**Несоответствие аудитории — критическая ошибка классификации.**

### Принцип 7. Богатые Frontmatter

Каждый документ имеет YAML Frontmatter с метаданными:

```yaml
---
family: F5                    # Семейство (F0-F9)
kernel: C                     # Ядро (A/B/C или F0)
system: C2                    # Система (X1/X2/X3)
role: Architecture            # Роль (Meaning/Architecture/Operations)
target_audience:              # Целевые читатели (ОБЯЗАТЕЛЬНО)
  - "Методологи"
  - "Наставники"
depends_on:                   # Родительские документы
  - "path/to/dependency.md"
affects:                      # Что зависит от этого документа
  - "path/to/affected.md"
status: draft | review | stable  # Статус документа
---
```

### Принцип 8. Разделение типов информации

В хранилище **жёстко различаются типы документов:**

| Тип | Описание | Примеры |
|-----|----------|---------|
| Концептуальные | Визия, цели, ценности | Манифест, стратегия |
| Спецификации | Требования, архитектура | Описания систем, ADR |
| Процессные | Регламенты, инструкции | Онбординг, запуск потоков |
| Сырые | Черновики, заметки | Папка 0.9.Inbox/ |
| Автоматические | Отчёты ИИ | Папка 0.4.AI-Reports/ |

### Принцип 9. Единый источник правды (SSOT)

Для каждой сущности:
- Есть **один главный документ** — источник истины
- Остальные места — только ссылки и выдержки

При противоречии ИИ указывает на расхождение и предлагает синхронизацию.

### Принцип 10. Версионирование и трассируемость

Любое изменение документа:
- Имеет версию (git commit)
- Имеет описание мотивации (commit message)
- Позволяет ответить: кто, когда, зачем, какие последствия

### Принцип 11. Автоматическая проверка ИИ

Каждый документ при добавлении/обновлении проходит проверку:

1. **Статические проверки**
   - Формат, структура
   - Обязательные разделы
   - Ссылки не битые

2. **Семантические проверки ИИ**
   - Поиск противоречий
   - Несогласованность терминов
   - Нарушение уровней

3. **Проверка соответствия**
   - Правильное ядро и система
   - Наличие YAML Frontmatter
   - Целевая аудитория совпадает с семейством

### Принцип 12. Связность документов

Каждый документ указывает:
- **depends_on**: На документы уровня выше (контекст)
- **affects**: На документы уровня ниже (детализация)
- **Wikilinks [[...]]**: На связанные документы

### Принцип 13. Простой формат, сложный смысл

**Формат:** Markdown, YAML, JSON — простой и долговечный.

**Смысл:** Онтология, связи — в содержании и метаданных.

Это позволяет легко мигрировать между системами.

### Принцип 14. Регулярный рефакторинг

Хранилище — живая система:
- ИИ формирует отчёты о «долгах» (0.4.AI-Reports/)
- Владельцы получают предложения по улучшению
- Дубликаты объединяются
- Гигантские файлы расщепляются

---

## Правила именования

### Ядра (Kernels)

**Формат**: `<Ядро>.<Имя-системы-SoI>`

**Примеры**:
- `A.Созидатель/`
- `B.Экосистема-развития/`
- `C.ИТ-платформа-Экосистемы/`

### Системы внутри ядра

**Формат**: `<Ядро><Позиция>.<Имя-системы>/`

**Позиции**:
- **1** — Надсистема (∋ SoI)
- **2** — SoI (система интереса)
- **3** — Система создания (→ SoI)

**Примеры**:
- `A1.Команды-и-сообщества/` — надсистема в ядре A
- `B2.Экосистема-развития/` — SoI в ядре B
- `C3.ИТ-служба/` — система создания в ядре C

### Роли (внутри систем)

**Формат**: `<Система>.<Позиция>.<Роль>/`

**Роли** (на английском):
- **.1.Meaning/** — Смыслы (Зачем? Какова ценность?)
- **.2.Architecture/** — Архитектура (Как устроено?)
- **.3.Operations/** — Операции (Как работает?)

**Примеры**:
- `A2.1.Meaning/` — зачем созидать
- `B2.2.Architecture/` — архитектура экосистемы
- `C2.3.Operations/` — операции платформы

### Документы

**Формат**: `<номер>-<название>.md`

**Примеры**:
- `01-mission-statement.md`
- `02-system-architecture.md`
- `03-development-process.md`

### Мета-уровень 0.OPS/

**Формат**: `0.<Номер>.<Название>/`

**Примеры**:
- `0.1.Knowledge-Logic/`
- `0.2.Kernels-Bridge/`
- `0.4.AI-Reports/`

---

## Миграция из старой структуры

До S2R использовалась single-kernel структура:

```
content/
├── 0. Управление/
├── 1. Мир (Надсистема)/
├── 2. Созидатель (Целевая система)/
└── 3. Экосистема развития (Система создания)/
```

**Проблемы старой структуры:**
1. Один kernel → невозможно описать разные SoI с нужной детализацией
2. Абстрактные названия ("Надсистема", "Система создания")
3. Неявные отношения между системами
4. C (ИТ-платформа) как создатель B — физически неверно

**Решение — S2R multi-kernel:**
1. Три ядра (A, B, C) для разных SoI
2. Реальные имена систем
3. Явные отношения (∋, ⊃, ←)
4. C как подсистема B (входит в B2.2.Architecture/)

**Старая структура сохранена в `old/` для истории.**

---

## Соответствие старой и новой структур

| Старая структура | Новая S2R структура |
|------------------|---------------------|
| `content/0.Управление/` | `0.OPS/` |
| `content/1.Мир/1.1.Смыслы/` | `B1.Мир/B1.1.Meaning/` + `A1.Команды-и-сообщества/A1.1.Meaning/` |
| `content/2.Созидатель/2.2.Архитектура/` | `A2.Созидатель/A2.2.Architecture/` |
| `content/3.Экосистема/3.2.Архитектура/` | `B2.Экосистема-развития/B2.2.Architecture/` + `C2.ИТ-платформа-Экосистемы/C2.2.Architecture/` |
| `content/3.Экосистема/3.3.Операции/` | `A3.Экосистема-развития/A3.3.Operations/` + `B3.Система-создания-Экосистемы/B3.3.Operations/` + `C3.ИТ-служба/C3.3.Operations/` |

---

## См. также

- [[01-kernels-model.md]] — полная модель 3 ядер
- [[02-document-families.md]] — семейства документов F0-F9
- [[03-our-systems-map.md]] — граф системных отношений
- [[05-glossary.md]] — глоссарий S2R терминов
- [[06-document-standards.md]] — стандарты оформления
- [[07-naming.md]] — правила именования
- [[08-document-relationships.md]] — паттерны взаимосвязей
- [[../0.2.Kernels-Bridge/01-value-chain.md]] — value chain между ядрами

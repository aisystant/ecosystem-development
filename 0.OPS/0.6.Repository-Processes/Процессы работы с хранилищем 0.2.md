---

type: doc
status: active
created: 2025-12-06
layer: methodology
scope: local-edge
aliases:
- Процессы работы с хранилищем 02
---

# Процессы работы с хранилищем 0.2

## 0. Назначение документа

Этот документ описывает полный цикл работы со всеми технологиями (Obsidian, GitHub, AI-ассистенты) и процесс внесения изменений в хранилище экосистемы через Pull Request.

---

## 1. Основные технологии

- **Obsidian** (локально, синхронизирован с Git): создание/редактирование всех текстов создателя экосистемы, быстрые связи, Dataview-реестры, шаблоны.    
- **GitHub**: версия Главного хранилища в виде Главного репозитория, а также другие репозитории, которые созданы на основе Главного; история решений, Pull Request'ы, автоматические проверки, релизы/экспорт.    
- **Cursor** или Claude: структурные правки и патчи (в т.ч. Markdown), «минимальные диффы» с коммитом в Git.    
- **AI-ассистенты**
- Технологии экономики сообщества         
- **Другие интерфейсы** (формы, таблицы, календари) — только как источники ссылок/вставок в Obsidian.

---

## 2. Основной цикл работы (7 шагов)

### Шаг 0. Подготовка
Включены шаблоны, YAML-Frontmatter и теги. В файлах раздела **0.1. Логика хранилища и знаний** — правила классификации и метаданных:
- **Обязательные поля**: `type`, `status`, `created`, `layer`, `scope` (см. [[Стандарты оформления документов 0.1]])
- **Роль ИИ** (`ai_role`): `none` (только человек), `feature` (ИИ помогает), `core` (ИИ генерирует)
- **Связи**: `depends_on`, `affects`, `related` (см. [[Паттерны взаимосвязей документов 0.1]])
- **Классификация**: `layer` (слой знаний), `scope` (охват), `target_audience` (см. [[Классификация и теги 0.1]])

### Шаг 1. Захват и разбор

- Человек пишет кратко в **«0.9. Входящие»** (мысли, ссылки, задачи).
    
- Каждая запись помечается YAML (тип, статус) и **перекладывается**:  
    — в **1. Мир (Надсистема)** (проблема/видение/гипотеза),  
    — в **2. Созидатель (Целевая система)** (компетенции/ценность/путь),  
    — в **3. Экосистема развития (Система создания)** (если это изменяет платформу/услугу),  
    — или в **0.3. Планы и совещания** (если это принципиальный выбор или долгосрочная цель).
    

### Шаг 2. Авторинг

- **Человек →** ключевые тексты управления: раздел **0** (Управление).    
- **Вместе с ИИ →** разделы **1, 2, 3** (основной контент). ИИ предлагает правки/фрагменты, человек принимает/редактирует.    
- **Только ИИ →** черновые сводки, индексы, агрегаты, отчёты в **0.4. Автоматические отчёты ИИ**.
    

### Шаг 3. Связи и классификация

- В Obsidian проставляются вики-ссылки: идея ↔ система ↔ понятия (см. [[Паттерны взаимосвязей документов 0.1]]).
- **Типы связей** в frontmatter:
  - `depends_on` — документы, от которых зависит (родительские)
  - `affects` — документы, на которые влияет (дочерние)
  - `related` — слабо связанные документы
- **Классификация**:
  - `layer` — слой знаний (philosophy / methodology / ontology / technology)
  - `scope` — охват (global-core / global-edge / local-core / local-edge)
  - `target_audience` — целевые читатели
- Dataview-реестры обновляются автоматически.
    

### Шаг 4. Проверка качества (гейты)

- **Редактор** правит на ясность и единый стиль.    
- **Архитектор** сверяет согласованность между разделами (границы, входы/выходы).  
- **Проверяющий** собирает отчёт о состоянии в **0.4. Автоматические отчёты ИИ**: отражены ли принципы в документах и планах; человек подтверждает или помечает несоответствия.    
- Если выбор принципиальный — фиксируется в **0.3. Планы и совещания**.
    

### Шаг 5. Создание Pull Request и публикация в канонику

Описано ниже в разделе "Процесс внесения изменений".

### Шаг 6. Экспорт/распаковка

- Когда конкретный документ/набор зрелый, его путь назначается в «экспорт» (например, выведение отдельного репозитория систем/руководства).    
- GitHub выпускает релиз, другим ИТ-сервисам и агентам указывается, **откуда** брать канонику.
    

### Шаг 7. Мониторинг и обновления

- Раз в неделю ИИ пересобирает отчёты в **0.4. Автоматические отчёты ИИ**.    
- Раз в спринт обновляется **0.3. Планы и совещания**: ближайший этап, рабочие продукты, бюджет времени.

### Кто что делает (матрица ролей)

| Узел                                             | ai_role   | Читает      | Пишет/меняет                                    | Инструменты                                |
| ------------------------------------------------ | --------- | ----------- | ----------------------------------------------- | ------------------------------------------ |
| **0. Управление** (разделы 0.0–0.4, 0.9)         | `none`    | человек, ИИ | **человек** (ИИ только предлагает формулировки) | Obsidian → PR GitHub                       |
| **0.9. Входящие**                                | `none`    | человек, ИИ | человек                                         | Obsidian                                   |
| **1. Мир (Надсистема)**                          | `feature` | оба         | **вместе** (ИИ-черновик, человек — редактор)    | Obsidian + ассистент                       |
| **2. Созидатель (Целевая система)**              | `feature` | оба         | вместе                                          | Obsidian, ассистент                        |
| **3. Экосистема развития (Система создания)**    | `feature` | оба         | вместе (архитектура — человек ведёт)            | Obsidian / Cursor → PR GitHub              |
| **0.4. Автоматические отчёты ИИ**                | `core`    | человек     | **ИИ** (автосборка, человек утверждает)         | Claude, Python скрипты                     |

> **Правило ai_role:**
> - `none` — всё, что **определяет курс/политику**, оформляет человек
> - `core` — всё, что **генерирует сводки/индексы/проверки**, делает ИИ автоматически
> - `feature` — операционные тексты делаются **вместе** (ИИ предлагает, человек решает)

### Мини-ритм (день/неделя/спринт)

- **Ежедневно:** пополняю **0.9. Входящие**, разбрасываю по разделам; мелкие правки через Obsidian; PR по необходимости.    
- **Еженедельно:** ИИ собирает отчёты в **0.4. Автоматические отчёты ИИ**; корректируем **0.3. Планы и совещания**.    
- **Каждый спринт:** обновляем **0.3. Планы и совещания** (ближайший этап, рабочие продукты, бюджет времени); релизы/экспорт зрелых узлов.

---

## 3. Процесс внесения изменений через Pull Request

### 3.1 Участники процесса

| Роль | Описание | Права |
|------|----------|-------|
| **Контрибьютор** | Любой член команды | Предлагает изменения через PR |
| **Ревьюер** | Назначенный эксперт | Проверяет и комментирует |
| **Мейнтейнер** | Владелец раздела | Принимает или отклоняет PR |
| **ИИ-ассистент** | Claude/GPT | Помогает с оформлением и проверкой |

### 3.2 Пошаговый процесс внесения изменений

#### Вариант A: Новый документ

1. Создайте файл в папке **«0.9. Входящие»**
2. Используйте шаблон из документа **«Шаблон документа ячейки 0.3.md»**
3. Заполните YAML-шапку
4. Опишите суть предложения

#### Вариант B: Изменение существующего документа

1. Создайте feature-ветку: `feature/<описание>`
2. Внесите изменения
3. Добавьте комментарий в YAML: `change_reason: "причина изменения"`

### 3.3 Создание Pull Request

```bash
# Создать ветку
git checkout -b feature/add-new-process

# Добавить изменения
git add .
git commit -m "feat: описание изменения"

# Отправить на GitHub
git push -u origin feature/add-new-process

# Создать PR через GitHub UI или CLI
gh pr create --title "Название изменения" --body "Описание..."
```

### 3.4 Автоматические проверки

GitHub Actions автоматически проверяет (см. [[Стандарты оформления документов 0.1]]):
- [ ] **Обязательные поля YAML**: `type`, `status`, `created`, `layer`, `scope`
- [ ] **Рекомендуемые поля**: `ai_role`, `target_audience`, `depends_on`, `affects`
- [ ] Корректные значения полей (status ∈ {draft, active, obsolete}, layer ∈ {...})
- [ ] Структура документа (обязательные разделы: 0. Назначение, N. Связанные документы)
- [ ] Именование файла (`<Название> <N.M>.md`)
- [ ] Ссылки не битые (wikilinks и markdown-ссылки)
- [ ] Markdown-линтер

### 3.5 Ревью человеком

Ревьюер проверяет:
- [ ] Содержание соответствует ячейке матрицы системной модели (см. [[Модель семейств документов 0.1]])
- [ ] Документ адресован правильной целевой аудитории (`target_audience`)
- [ ] Нет дублирования с другими документами
- [ ] Терминология из **[[Глоссарий хранилища 0.1]]** и **[[Словарь сущностей экосистемы 0.1]]**
- [ ] Ссылки на связанные документы с указанием типа связи (см. [[Паттерны взаимосвязей документов 0.1]])

### 3.6 Обсуждение и доработка

1. Ревьюер оставляет комментарии
2. Контрибьютор вносит правки
3. Цикл повторяется до утверждения

### 3.7 Мёрж и интеграция

После утверждения:
1. Мейнтейнер делает merge в main
2. ИИ-ассистент обновляет индексы и отчёты в **0.4. Автоматические отчёты ИИ**
3. Документ из **«0.9. Входящие»** перемещается в целевую папку (если это новый документ)

---

## 4. Использование ИИ-ассистента

### 4.1 Подготовка PR с помощью ИИ

```
Промпт для Claude/GPT:

Я хочу добавить документ в хранилище экосистемы.

Тема: [описание темы]

Помоги мне:
1. Определить правильную ячейку (система + роль)
2. Выбрать название по правилам хранилища
3. Заполнить шаблон документа
4. Указать связанные документы
```

### 4.2 Автоматическое определение места

```
Промпт:

Проанализируй документ ниже и определи:
1. К какому разделу он относится (1. Мир / 2. Созидатель / 3. Экосистема)?
2. К какой подсистеме (Смыслы / Архитектура / Операции)?
3. Итоговый путь в хранилище?
4. Как его назвать?
5. Какие документы связаны?

---
[текст документа]
```

---

## 5. Особые случаи

### 5.1 Срочные изменения

Для критических правок (ошибки, безопасность):
1. Создать PR с меткой `urgent`
2. Уведомить мейнтейнера напрямую
3. Ревью в течение 4 часов

### 5.2 Масштабные изменения

Если изменение затрагивает много файлов:
1. Сначала создать issue для обсуждения
2. Получить согласие команды
3. Разбить на несколько PR

### 5.3 Изменения структуры

Изменения в **0.1. Логика хранилища и знаний**:
1. Требуют согласования со всей командой
2. Фиксируются в **0.3. Планы и совещания**
3. Обновляется README.md и **Структура хранилища 0.1.md**

---

## 6. Шаблон PR

```markdown
## Описание изменений

[Краткое описание что и почему меняется]

## Тип изменения

- [ ] Новый документ
- [ ] Изменение существующего документа
- [ ] Исправление ошибки
- [ ] Изменение структуры

## Связанные документы

- [[Документ 1]]
- [[Документ 2]]

## Чек-лист

- [ ] Обязательные поля YAML заполнены (`type`, `status`, `created`, `layer`, `scope`)
- [ ] Указан `ai_role` и `target_audience`
- [ ] Название соответствует правилам (`<Название> <N.M>.md`)
- [ ] Документ в правильной ячейке/семействе
- [ ] Добавлены ссылки с типом связи (`depends_on`, `affects`, `related`)
- [ ] Терминология соответствует [[Глоссарий хранилища 0.1]] и [[Словарь сущностей экосистемы 0.1]]
- [ ] Проверено на дублирование
```

---

## 7. Связанные документы

**Зависит от (depends_on):**
- [[Стандарты оформления документов 0.1]] — требования к frontmatter и структуре
- [[Паттерны взаимосвязей документов 0.1]] — типы связей между документами
- [[Классификация и теги 0.1]] — система классификации

**Влияет на (affects):**
- [[Создание документов и подразделов 0.2]] — правила создания документов

**Связанные (related):**
- [[Структура хранилища 0.1]] — общая организация хранилища
- [[Модель семейств документов 0.1]] — классификация по семействам F0-F9
- [[Глоссарий хранилища 0.1]] — терминология
- [[Словарь сущностей экосистемы 0.1]] — единая система обозначений
- [[План работ 0.3]] — текущий план

---
type: doc
status: draft
created: 2026-01-18
layer: methodology
scope: local-edge
audience:
  - "Команда экосистемы"
  - "Разработчики платформы"
  - "Деканат"
related_documents:
  - "Концепция Генератора инфопродуктов.md"
  - "Концепция Индексатора знаний.md"
---

# Концепция Проводника по персональному маршруту

> **Версия:** 1.0 (первая версия)

## 0. Назначение, аудитория, границы

**Назначение документа:** зафиксировать концепцию первой версии системы «Проводник по персональному маршруту» — телеграм-бота, который сопровождает стажёра в изучении структурированной базы знаний, отправляя материалы по расписанию, принимая отчёты о прочтении и адаптируя контент под профиль пользователя.

**Аудитория:** команда, которая проектирует и реализует Проводника, а также деканат и служба сопровождения стажёров.

**Границы:** документ описывает концепцию использования и верхнеуровневую архитектуру системы. Конкретные технологии (n8n, Telegram Bot API, LLM-провайдеры) указываются как рекомендуемые варианты, но окончательный выбор остаётся за командой разработки.

**Связь с другими системами и хранилищами:**

*Хранилища (используются):*
- **Индекс знаний** — структурированная база материалов для изучения (Разделы → Подразделы → Темы)
- **Репозиторий руководств** — источник методических материалов и шаблонов контента
- **Цифровой двойник** — профиль, прогресс и история стажёра (по возможности, в зависимости от готовности)

*Системы (интегрируются):*
- **Генератор инфопродуктов** — создание персонализированного контента на основе профиля стажёра
- **Индексатор знаний** — пополнение и актуализация Индекса знаний

---

## 1. Концепция использования

### 1.1. Главная проблема: отсутствие привычки к систематическому саморазвитию

**Ключевая проблема**, которую решает Проводник — **приучить стажёра к регулярному слоту саморазвития**.

Большинство людей хотят развиваться, но:
- Не выделяют фиксированное время на обучение
- Срываются после первых пропусков
- Не видят прогресса и теряют мотивацию
- Не могут удержать внимание на абстрактном материале

**Цель системы** — превратить стажёра в **систематического ученика**, который:
- Имеет устойчивую привычку ежедневного обучения
- Видит свой прогресс и чувствует движение вперёд
- Получает материал, адаптированный под его восприятие
- Может удерживать внимание на протяжении слота обучения

### 1.2. Дополнительные проблемы

Помимо главной проблемы, стажёры сталкиваются с:

1. **Неясность маршрута** — непонятно, что изучать дальше и в каком порядке
2. **Перегрузка** — попытка "проглотить" много материала за раз без усвоения
3. **Отсутствие обратной связи** — непонятно, понял ли ты тему или нет
4. **Оторванность от контекста** — абстрактные понятия без связи с жизнью стажёра

### 1.3. Идея решения

**Проводник по персональному маршруту** — это телеграм-бот, который:

- **Создаёт ритм** — отправляет материал строго в назначенное время, формируя привычку
- **Адаптирует длительность** — стартуем с 25 минут, но можно настроить меньше или больше в зависимости от способности удержания внимания
- **Персонализирует контент** — адаптирует материал под интересы, предметную область и восприимчивость к сложности
- **Принимает отчёт о прочтении** — засчитывает тему при ответе на вопрос
- **Показывает прогресс** — стажёр видит движение по маршруту

### 1.4. Формула изучения

```
1 Тема = 20 минут изучения + 5 минут ответа на вопрос
```

**Структура знания:**
```
Раздел
├── Подраздел 1
│   ├── Тема 1.1 (основное понятие + связанные)
│   ├── Тема 1.2
│   └── ...
├── Подраздел 2
│   ├── Тема 2.1
│   └── ...
└── ...
```

Каждая **Тема** включает:
- **Основное понятие** — ключевой концепт для изучения
- **Связанные понятия** — дополнительные термины, примеры, контекст
- **Вопрос для проверки** — один или несколько вопросов для отчёта

### 1.5. Ключевые сценарии использования

#### Сценарий 1: Изучение по расписанию

```
08:00 — Бот отправляет материал по теме дня
        (текст на ~20 минут чтения)

08:20 — Стажёр дочитал материал
        Бот предлагает ответить на вопрос

08:25 — Стажёр отправляет ответ
        Бот засчитывает тему, показывает прогресс
```

#### Сценарий 2: Изучение по запросу

```
Стажёр: "Хочу изучить следующую тему"
Бот: Отправляет материал следующей темы по маршруту
...далее как в сценарии 1
```

#### Сценарий 3: Запрос вне расписания

```
15:30 — Стажёр: "Дай ещё одну тему"
        Бот: Отправляет дополнительный материал
        (не заменяет завтрашнюю отправку по расписанию)
```

#### Сценарий 4: Пропуск дня

```
08:00 — Бот отправил материал
...стажёр не ответил до конца дня

Следующий день:
08:00 — Бот напоминает о пропущенной теме
        и предлагает либо ответить, либо начать новую
```

### 1.6. Профиль стажёра (параметры адаптации)

При первом запуске бот собирает данные о стажёре для максимальной адаптации контента:

| Параметр | Зачем нужен | Пример | Влияние на контент |
|----------|-------------|--------|-------------------|
| **Интересы по жизни** | Примеры в контенте связаны с интересами | "Музыка, путешествия, IT" | Примеры из знакомых областей |
| **Предметная область** | Контекст применения понятий | "Разработка ПО", "Менеджмент" | Практические кейсы из профессии |
| **Восприимчивость к сложности** | Уровень детализации и глубины | "Базовый", "Продвинутый", "Максимальный" | Глубина объяснений, количество терминов |
| **Способность удержания внимания** | Длительность слота обучения | "15 мин", "25 мин", "40 мин" | Объём материала в одной теме |
| **Время получения** | Когда отправлять материал | "08:00", "20:00" | Расписание отправки |
| **Частота** | Сколько тем в день | "1 в день", "2 в день" | Количество уведомлений |

**Принцип адаптации:** ИИ использует профиль для создания контента, который:
- Содержит примеры из предметной области и интересов стажёра
- Соответствует уровню сложности (больше/меньше терминов, глубже/проще объяснения)
- Укладывается в выбранную длительность слота (стартуем с 25 минут, можно настроить меньше или больше)

---

## 2. Архитектура системы

### 2.1. Общая схема

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         ПРОВОДНИК ПО МАРШРУТУ                           │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────────────────┐  │
│  │   TELEGRAM   │    │   ДВИЖОК     │    │    ХРАНИЛИЩЕ СТАЖЁРА     │  │
│  │    БОТ       │◄──►│  КОММУНИКА-  │◄──►│   (Цифровой двойник)     │  │
│  │ (интерфейс)  │    │     ЦИИ      │    │  - Профиль               │  │
│  └──────────────┘    │   (n8n)      │    │  - Прогресс              │  │
│                      └──────┬───────┘    │  - История ответов       │  │
│                             │            └──────────────────────────┘  │
│                             │                                          │
│                             ▼                                          │
│                      ┌──────────────┐                                  │
│                      │ ФОРМИРОВЩИК  │                                  │
│                      │ КОНТЕНТА     │                                  │
│                      │   (LLM)      │                                  │
│                      └──────┬───────┘                                  │
│                             │                                          │
│                             ▼                                          │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                      ИНДЕКС ЗНАНИЙ                                │  │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐          │  │
│  │  │ Раздел 1 │  │ Раздел 2 │  │ Раздел 3 │  │   ...    │          │  │
│  │  │ ├Подр.1  │  │ ├Подр.1  │  │ ├Подр.1  │  │          │          │  │
│  │  │ │├Тема   │  │ │├Тема   │  │ │├Тема   │  │          │          │  │
│  │  │ │├Тема   │  │ │├Тема   │  │ │├Тема   │  │          │          │  │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘          │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.2. Подсистемы

#### Подсистема 1: Telegram-бот (Интерфейс)

**Назначение:** предоставить стажёру удобный канал взаимодействия.

**Функции:**
- Приём команд от стажёра
- Отправка материалов по расписанию и по запросу
- Приём ответов на вопросы
- Показ прогресса и статистики

**Технология:** Telegram Bot API

**Команды:**
| Команда | Действие |
|---------|----------|
| `/start` | Начать знакомство, заполнить профиль |
| `/profile` | Изменить настройки профиля |
| `/next` | Получить следующую тему |
| `/progress` | Показать прогресс по маршруту |
| `/skip` | Пропустить текущую тему |
| `/help` | Справка по командам |

---

#### Подсистема 2: Движок коммуникации (Оркестратор)

**Назначение:** управлять логикой взаимодействия со стажёром.

**Функции:**
- Планирование отправки материалов по расписанию
- Обработка запросов от стажёра
- Управление состоянием диалога
- Трекинг прогресса

**Технология (рекомендуемая):** n8n

**Логика состояний:**

```
[НОВЫЙ_СТАЖЁР]
      │
      ▼ (заполнил профиль)
[ОЖИДАНИЕ_ВРЕМЕНИ]
      │
      ▼ (наступило время / запрос)
[МАТЕРИАЛ_ОТПРАВЛЕН]
      │
      ├──► (получен ответ) ──► [ТЕМА_ЗАСЧИТАНА] ──► [ОЖИДАНИЕ_ВРЕМЕНИ]
      │
      └──► (нет ответа 24ч) ──► [НАПОМИНАНИЕ] ──► [ОЖИДАНИЕ_ВРЕМЕНИ]
```

---

#### Подсистема 3: Формировщик контента

**Назначение:** создавать персонализированный контент на основе базовой темы и профиля стажёра.

**Вход:**
- Базовая тема из Индекса знаний (понятие + связанные понятия)
- Профиль стажёра (интересы, область, сложность)

**Выход:**
- Текст на 20 минут чтения
- 1-3 вопроса для проверки понимания

**Технология:** LLM (Claude API / OpenAI API)

**Принципы формирования контента:**

1. **Структура текста:**
   ```
   ## [Название темы]

   ### Зачем это нужно
   [Связь с жизнью/работой стажёра]

   ### Основное понятие
   [Определение + объяснение]

   ### Примеры
   [2-3 примера из области стажёра]

   ### Связанные понятия
   [Краткое описание связей]

   ### Итог
   [Резюме в 2-3 предложениях]
   ```

2. **Персонализация:**
   - Примеры берутся из предметной области стажёра
   - Уровень детализации соответствует выбранной сложности
   - Связь с интересами там, где это уместно

3. **Вопросы для проверки:**
   - Открытые вопросы (не да/нет)
   - Требуют применения понятия, а не запоминания
   - Пример: "Приведите пример [понятия] из вашей практики"

---

#### Подсистема 4: Хранилище стажёра

**Назначение:** хранить профиль, прогресс и историю взаимодействия.

**Структура данных:**

```yaml
trainee:
  id: "telegram_user_id"
  profile:
    name: "Имя"
    interests: ["музыка", "путешествия"]
    domain: "разработка ПО"
    difficulty: "продвинутый"
    schedule:
      time: "08:00"
      timezone: "Europe/Moscow"
      frequency: "1_per_day"
  progress:
    current_section: "Раздел 2"
    current_subsection: "Подраздел 1"
    current_topic: 3
    completed_topics: 42
    total_topics: 120
    streak_days: 7
  history:
    - date: "2026-01-17"
      topic_id: "2.1.2"
      question: "Приведите пример..."
      answer: "В моей работе..."
      status: "completed"
```

**Технология (рекомендуемая):** SurrealDB / PostgreSQL / любая БД с поддержкой JSON

---

#### Подсистема 5: Индекс знаний (источник контента)

**Назначение:** хранить структурированную базу знаний для изучения.

**Структура:**

```yaml
knowledge_base:
  sections:
    - id: "section_1"
      title: "Системное мышление"
      subsections:
        - id: "subsection_1_1"
          title: "Основы"
          topics:
            - id: "topic_1_1_1"
              title: "Что такое система"
              main_concept: "Система"
              related_concepts: ["граница", "элемент", "связь"]
              base_content: "..."
              check_questions:
                - "Приведите пример системы из вашей области"
                - "Что определяет границу системы?"
            - id: "topic_1_1_2"
              title: "Части и целое"
              ...
```

**Связь с Индексатором знаний:** контент поступает из общего Индекса знаний экосистемы, где материалы структурированы по Разделам → Подразделам → Темам.

---

### 2.3. Потоки данных

#### Поток 1: Онбординг стажёра

```
1. Стажёр: /start
2. Бот: Приветствие, запрос имени
3. Стажёр: "Алексей"
4. Бот: Запрос интересов
5. Стажёр: "IT, музыка"
6. Бот: Запрос предметной области
7. Стажёр: "Менеджмент продукта"
8. Бот: Запрос уровня сложности (кнопки)
9. Стажёр: [Продвинутый]
10. Бот: Запрос времени отправки
11. Стажёр: "08:00"
12. Бот: Подтверждение, первая тема через [время]
```

#### Поток 2: Ежедневное изучение

```
1. [08:00] Оркестратор: триггер по расписанию
2. Оркестратор → Индекс: запрос следующей темы
3. Индекс → Оркестратор: базовая тема
4. Оркестратор → Формировщик: тема + профиль стажёра
5. Формировщик → LLM: генерация персонализированного контента
6. LLM → Формировщик: текст + вопросы
7. Формировщик → Оркестратор: готовый материал
8. Оркестратор → Бот: отправить стажёру
9. Бот → Стажёр: материал темы
10. [через 20 мин] Бот → Стажёр: вопрос для проверки
11. Стажёр → Бот: ответ
12. Оркестратор: записать ответ, обновить прогресс
13. Бот → Стажёр: "Тема засчитана! Ваш прогресс: 43/120"
```

#### Поток 3: Оценка ответа

```
Текущая версия (MVP):
- Любой непустой ответ засчитывается
- Ответ сохраняется для анализа

Будущая версия:
- LLM оценивает релевантность ответа
- Если ответ нерелевантный → уточняющий вопрос
- Если ответ слишком краткий → просьба развить
```

---

## 3. Требования к системе

### 3.1. Функциональные требования

| ID | Требование | Приоритет |
|----|------------|-----------|
| FR-1 | Отправка материала по расписанию | Высокий |
| FR-2 | Отправка материала по запросу | Высокий |
| FR-3 | Приём и сохранение ответов | Высокий |
| FR-4 | Отслеживание прогресса | Высокий |
| FR-5 | Персонализация контента по профилю | Средний |
| FR-6 | Изменение профиля | Средний |
| FR-7 | Напоминания о пропущенных темах | Средний |
| FR-8 | Статистика и аналитика | Низкий |

### 3.2. Нефункциональные требования

| ID | Требование | Метрика |
|----|------------|---------|
| NFR-1 | Надёжность доставки | 99.5% сообщений доставлены |
| NFR-2 | Время генерации контента | < 30 секунд |
| NFR-3 | Доступность | 99% uptime |
| NFR-4 | Масштабируемость | До 1000 стажёров |

### 3.3. Ограничения

- Telegram имеет лимиты на размер сообщения (4096 символов)
- Материал нужно разбивать на несколько сообщений или использовать Telegraph
- LLM API имеют ограничения по токенам и rate limits

---

## 4. Минимальная дорожная карта

### Этап 1: MVP (базовый функционал)

**Цель:** запустить бота с минимальным функционалом для тестирования.

**Функции:**
- Онбординг (имя, время отправки)
- Отправка фиксированного материала по расписанию
- Приём любого ответа как "зачёт"
- Показ прогресса

**Без персонализации:** контент одинаковый для всех.

**Технологии:** Telegram Bot API + n8n + Google Sheets (как БД)

---

### Этап 2: Персонализация

**Цель:** добавить персонализацию контента.

**Функции:**
- Расширенный профиль (интересы, область, сложность)
- Генерация контента через LLM с учётом профиля
- История ответов

**Технологии:** + Claude API / OpenAI API, + SurrealDB

---

### Этап 3: Умная проверка

**Цель:** добавить осмысленную проверку ответов.

**Функции:**
- LLM оценивает релевантность ответа
- Уточняющие вопросы при нерелевантном ответе
- Рекомендации по улучшению понимания

---

### Этап 4: Адаптивный маршрут

**Цель:** маршрут адаптируется под скорость и качество усвоения.

**Функции:**
- Если тема даётся легко → предлагать более сложный материал
- Если стажёр буксует → дополнительные разъяснения
- Возможность "перепройти" тему

---

## 5. Метрики успеха

### 5.1. Метрики вовлечённости

| Метрика | Формула | Цель |
|---------|---------|------|
| Daily Active Users | Уникальные стажёры/день | > 50% от общего числа |
| Completion Rate | Ответы / Отправленные темы | > 70% |
| Streak (среднее) | Среднее число дней подряд | > 5 дней |
| Dropout Rate | Неактивные > 7 дней | < 20% |

### 5.2. Метрики качества

| Метрика | Формула | Цель |
|---------|---------|------|
| Качество ответов | % релевантных ответов | > 80% |
| Время на тему | Среднее время ответа | 20-30 мин |
| NPS | Опрос стажёров | > 50 |

---

## 6. Риски и митигации

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| Стажёры перестают отвечать | Высокая | Высокое | Напоминания, геймификация, streak-механика |
| LLM генерирует некачественный контент | Средняя | Высокое | Промпт-инжиниринг, review контента |
| Telegram API недоступен | Низкая | Высокое | Очередь сообщений, retry-логика |
| Масштабирование | Средняя | Среднее | Архитектура с очередями |

---

## 7. Открытые вопросы

1. **Формат длинного контента:** Разбивать на сообщения или использовать Telegraph?
2. **Хранение профиля:** Достаточно ли Telegram user ID или нужна регистрация?
3. **Структура знаний:** Откуда берётся структура Разделов/Подразделов/Тем?
4. **Интеграция с экосистемой:** Связь с основной платформой и цифровым двойником?

---

## См. также

- [[Концепция Генератора инфопродуктов.md]] — система генерации контента
- [[Концепция Индексатора знаний.md]] — система индексации знаний

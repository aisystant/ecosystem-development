# Руководство по участию в проекте

Это руководство описывает процесс внесения изменений в хранилище знаний экосистемы развития.

## Оглавление

- [Начало работы](#начало-работы)
- [Структура репозитория](#структура-репозитория)
- [Workflow участника](#workflow-участника)
- [Правила оформления документов](#правила-оформления-документов)
- [Система классификации](#система-классификации)
- [Работа с Obsidian](#работа-с-obsidian)
- [Автоматизация и скрипты](#автоматизация-и-скрипты)
- [Pull Request процесс](#pull-request-процесс)
- [Использование ИИ](#использование-ии)

## Начало работы

### Предварительные требования

**Обязательно:**
- Git 2.30+
- Python 3.11+
- Текстовый редактор с поддержкой Markdown

**Рекомендуется:**
- [Obsidian](https://obsidian.md/) для работы с документами
- GitHub CLI (`gh`) для работы с PR

### Первоначальная настройка

```bash
# 1. Клонировать репозиторий
git clone https://github.com/aisystant/ecosystem-development.git
cd ecosystem-development

# 2. Проверить Python
python3 --version  # должно быть 3.11+

# 3. Открыть в Obsidian
# File → Open vault → выбрать папку репозитория
```

## Структура репозитория

Хранилище организовано по **системной модели 3×3** (три уровня × три роли мышления):

```
ecosystem-development/
├── content/                          # Контент хранилища (198+ документов)
│   ├── 0. Управление/                # Метасистема (F0)
│   │   ├── 0.1. Логика хранилища и знаний/
│   │   ├── 0.2. Процессы работы с хранилищем/
│   │   ├── 0.3. Планы и совещания/
│   │   ├── 0.4. Автоматические отчёты ИИ/
│   │   ├── 0.9. Входящие/            # ← Новые документы сюда
│   │   └── 0.99. Архив/
│   │
│   ├── 1. Мир (Надсистема)/          # Контекст (F1-F3)
│   │   ├── 1.1. Смыслы — Продвижение/
│   │   ├── 1.2. Архитектура — Концепция использования/
│   │   └── 1.3. Операции — Репутация и партнёрства/
│   │
│   ├── 2. Созидатель (Целевая система)/  # Человек (F4-F6)
│   │   ├── 2.1. Смыслы — Ценность и бизнес-модели/
│   │   ├── 2.2. Архитектура — Модель и компетенции/
│   │   └── 2.3. Операции — Путь и сопровождение/
│   │
│   └── 3. Экосистема развития (Система создания)/  # Платформа (F7-F9)
│       ├── 3.1. Смыслы — Экономика и инвестиции/
│       ├── 3.2. Архитектура — Платформа и подсистемы/
│       └── 3.3. Операции — Команда и службы/
│
├── .fpf/                            # First Principles Framework
│   ├── INDEX.md                     # Индекс частей FPF
│   └── FPF-Spec.md                  # Полная спецификация (~38K строк)
│
├── ops/                              # Скрипты автоматизации
│   ├── build_report.py               # Генерация всех отчётов
│   ├── build_check_document.py       # Сборка проверочного документа
│   └── ...                           # Другие утилиты
│
├── agents-core/                      # Ядро ИИ-агентов
├── artifacts/                        # Генерируемые артефакты
│   └── inventories/                  # Инвентаризация репозитория
├── CLAUDE.md                         # Инструкции для Claude Code
└── .github/workflows/                # CI/CD пайплайны
```

### Семейства документов (F0-F9)

| Семейство | Раздел | Описание |
|-----------|--------|----------|
| F0 | 0. Управление | Метасистема хранилища, процессы, отчёты |
| F1 | 1.1 | Видение и привлечение (маркетинг, продажи) |
| F2 | 1.2 | Контекст и интерфейсы (концепция использования) |
| F3 | 1.3 | Репутация и партнёрства (PR, compliance) |
| F4 | 2.1 | Ценность и бизнес-модели (офферы, тарифы) |
| F5 | 2.2 | Модель и компетенции (программы, роли) |
| F6 | 2.3 | Путь и сопровождение (онбординг, деканат) |
| F7 | 3.1 | Экономика и инвестиции (токеномика) |
| F8 | 3.2 | Платформа и подсистемы (ИТ, ИИ) |
| F9 | 3.3 | Команда и службы (роли, сообщества) |

## Workflow участника

### Основной цикл работы

```bash
# 1. Создание feature-ветки
git checkout main
git pull origin main
git checkout -b feature/add-new-document

# 2. Создание/редактирование документа
# Новые документы → content/0. Управление/0.9. Входящие/

# 3. Коммит изменений
git add .
git commit -m "feat: добавлен документ X"

# 4. Push и создание PR
git push -u origin feature/add-new-document
gh pr create --title "feat: добавлен документ X" --body "Описание..."
```

### Куда класть новые документы

1. **Новые идеи/черновики** → `0.9. Входящие/`
2. После ревью документ перемещается в целевую папку:
   - О мире/рынке/ЦА → `1. Мир (Надсистема)/`
   - О созидателе/компетенциях/пути → `2. Созидатель (Целевая система)/`
   - О платформе/команде/экономике → `3. Экосистема развития (Система создания)/`

### Правила коммитов

Используем [Conventional Commits](https://www.conventionalcommits.org/):

| Тип | Описание |
|-----|----------|
| `feat:` | Новый документ или функция |
| `docs:` | Изменения в документации |
| `fix:` | Исправление ошибок |
| `refactor:` | Рефакторинг без изменения смысла |
| `chore:` | Обновление конфигов, зависимостей |

## Правила оформления документов

### Frontmatter метаданные

Каждый документ **обязан** содержать YAML frontmatter:

```yaml
---
type: doc                    # doc, data, code, model, policy, contract, metric, economy
status: draft                # draft, active, obsolete
created: 2025-12-20          # Дата создания
layer: methodology           # philosophy, methodology, ontology, program, conops,
                             # requirements, architecture, service, data, analytics, economy
scope: local-edge            # global-core, local-edge
family: F5                   # Семейство документа F0-F9
target_audience:             # Целевые читатели
  - "Методологи"
  - "Наставники"
ai_role: feature             # none, feature, core
---
```

**Обязательные поля:** `type`, `status`, `created`, `layer`, `scope`

**Рекомендуемые поля:**
```yaml
developer: "Визионер"        # Кто создаёт документ
depends_on:                  # Родительские документы
  - "[[Документ 1]]"
affects:                     # Зависимые документы
  - "[[Документ 2]]"
related:                     # Связанные документы
  - "[[Документ 3]]"
```

### Структура документа

```markdown
---
# Frontmatter здесь
---

# Название документа N.M

## 0. Назначение документа

Краткое описание: что описывает документ, зачем он нужен.

## 1. Основной контент

### 1.1 Подраздел...

## N. Связанные документы

**Зависит от (depends_on):**
- [[Документ 1]] — описание связи

**Влияет на (affects):**
- [[Документ 2]] — описание связи

**Связанные (related):**
- [[Документ 3]] — описание связи
```

### Именование файлов

**Правила:**
- Формат: `<Название> <N.M>.md` (например: `Структура хранилища 0.1.md`)
- Кириллица допустима и предпочтительна
- Избегайте: `/ \ : * ? " < > |`

**Примеры:**
```
✅ content/0. Управление/0.1. Логика хранилища и знаний/Структура хранилища 0.1.md
✅ content/2. Созидатель (Целевая система)/О разделе 2.0.md
❌ content/0-management/structure.md
```

## Система классификации

### 4 оси классификации

#### Ось A: Вид артефакта (`type`)

| Значение | Описание |
|----------|----------|
| `doc` | Текстовый документ |
| `data` | Наборы данных, события |
| `code` | Код агентов, сервисов |
| `model` | Модели, онтологии |
| `policy` | Правила, политики |
| `contract` | API-контракты |
| `metric` | Метрики, дашборды |
| `economy` | Токен-правила |

#### Ось B: Читаемость и изменение

- `audience`: `manual` / `mixed` / `machine`
- `edit_mode`: `manual` / `mixed` / `machine`

#### Ось C: Семантический слой (`layer`)

| Слой | Описание | edit_mode по умолчанию |
|------|----------|------------------------|
| `philosophy` | Манифесты, цели | manual |
| `methodology` | Методы, роли | manual |
| `ontology` | Понятия, термины | manual |
| `program` | Программы, руководства | mixed |
| `conops` | Сценарии ролей | manual |
| `requirements` | Требования | manual |
| `architecture` | Архитектура (C4) | manual |
| `service` | Описания подсистем | mixed |
| `data` | Схемы данных | auto |
| `analytics` | Аналитика, отчёты | mixed |
| `economy` | Токеномика | manual (правила), auto (данные) |

#### Ось D: Область и доступ

- `scope`: `global-core` / `local-edge`
- `security`: `public` / `internal` / `restricted`

### Роль ИИ (`ai_role`)

| Значение | Описание |
|----------|----------|
| `none` | Только человек (курс, политика) |
| `feature` | Вместе (ИИ предлагает, человек решает) |
| `core` | ИИ генерирует (отчёты, индексы) |

## Работа с Obsidian

### Настройка

1. File → Open vault → выбрать папку репозитория
2. Установить плагины:
   - **Obsidian Git** — синхронизация с GitHub
   - **Dataview** — динамические запросы
   - **Shell commands** — запуск скриптов

### Настройка Obsidian Git

```
Settings → Obsidian Git:
- Vault backup interval: 30
- Auto pull interval: 10
- Commit message: "vault backup: {{date}}"
- Pull updates on startup: ON
```

### Wiki-ссылки

```markdown
# Obsidian-style (предпочтительно)
[[Структура хранилища 0.1]]
[[Классификация и теги 0.1#Ось A]]

# Markdown-style (для GitHub)
[Структура](./content/0.%20Управление/0.1.%20Логика%20хранилища%20и%20знаний/Структура%20хранилища%200.1.md)
```

## Автоматизация и скрипты

### Генерация отчётов

Основной скрипт для генерации автоматических отчётов:

```bash
# Генерация всех отчётов
python3 ops/build_report.py --report all

# Отдельные отчёты
python3 ops/build_report.py --report architecture-snapshot
python3 ops/build_report.py --report content-completeness
python3 ops/build_report.py --report technical-issues
python3 ops/build_report.py --report links-map

# Предпросмотр (без сохранения)
python3 ops/build_report.py --report technical-issues --dry-run
```

**Доступные отчёты:**

| Отчёт | Описание |
|-------|----------|
| `architecture-snapshot` | Архитектурный слепок хранилища |
| `content-completeness` | Анализ полноты по матрице 3×3 |
| `technical-issues` | Дублирование, битые ссылки |
| `terminology` | Терминологическая согласованность |
| `recommendations` | Рекомендации по развитию |
| `links-map` | Карта связей между документами |
| `all` | Все отчёты сразу |

Отчёты сохраняются в `content/0. Управление/0.4. Автоматические отчёты ИИ/0.4.2. Актуальные автоматические отчеты/`

### Сборка проверочного документа

```bash
# Базовая сборка
python3 ops/build_check_document.py

# С AI-анализом противоречий (требует OPENAI_API_KEY)
python3 ops/build_check_document.py --ai-analysis
```

## Pull Request процесс

### Создание PR

```bash
gh pr create \
  --title "feat: добавлен документ X" \
  --body "$(cat <<'EOF'
## Описание изменений

Краткое описание что и почему меняется.

## Тип изменения

- [x] Новый документ
- [ ] Изменение существующего документа
- [ ] Исправление ошибки

## Связанные документы

- [[Документ 1]]
- [[Документ 2]]

## Чек-лист

- [ ] Обязательные поля YAML заполнены (`type`, `status`, `created`, `layer`, `scope`)
- [ ] Указан `family` и `target_audience`
- [ ] Название соответствует правилам
- [ ] Документ в правильной ячейке/семействе
- [ ] Добавлены связи (`depends_on`, `affects`, `related`)
- [ ] Терминология из Глоссария
EOF
)"
```

### Автоматические проверки (CI)

При каждом PR запускаются:

| Workflow | Описание |
|----------|----------|
| `content-ci.yml` | Валидация frontmatter |
| `generate-reports.yml` | Генерация отчётов |
| `validate-classifications.yml` | Проверка классификации |

### Ревью

**Ревьюер проверяет:**
- [ ] Содержание соответствует семейству документов (F0-F9)
- [ ] Документ адресован правильной целевой аудитории
- [ ] Нет дублирования с другими документами
- [ ] Терминология из Глоссария
- [ ] Ссылки на связанные документы

## Использование ИИ

### Кто что делает (матрица ролей)

| Раздел | ai_role | Кто пишет |
|--------|---------|-----------|
| 0. Управление | `none` | Человек (ИИ предлагает формулировки) |
| 1. Мир | `feature` | Вместе (ИИ-черновик, человек-редактор) |
| 2. Созидатель | `feature` | Вместе |
| 3. Экосистема | `feature` | Вместе (архитектуру ведёт человек) |
| 0.4. Отчёты ИИ | `core` | ИИ (человек утверждает) |

### Промпт для определения места документа

```
Проанализируй документ ниже и определи:
1. К какому разделу он относится (1. Мир / 2. Созидатель / 3. Экосистема)?
2. К какой подсистеме (Смыслы / Архитектура / Операции)?
3. Какое семейство документов (F0-F9)?
4. Какие документы связаны?

---
[текст документа]
```

### Claude Code и FPF

Репозиторий интегрирован с Claude Code и First Principles Framework:

- `CLAUDE.md` — инструкции для Claude Code
- `.fpf/INDEX.md` — навигация по частям FPF
- `.fpf/FPF-Spec.md` — полная спецификация

## Связанные документы

- [[Процессы работы с хранилищем 0.2]] — полный цикл работы
- [[Классификация и теги 0.1]] — система классификации
- [[Стандарты оформления документов 0.1]] — требования к frontmatter
- [[Модель семейств документов 0.1]] — семейства F0-F9
- [[Глоссарий хранилища 0.1]] — терминология

---

Если у вас есть вопросы, создайте issue в репозитории.
